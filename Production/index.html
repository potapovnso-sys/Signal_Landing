<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <!-- Favicon -->
        <link rel="icon" type="image/x-icon" href="ico/летта-ai.ico">
        <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
    <title>Революция в анализе продаж - Узнайте правду о ваших продавцах</title>
    
    <!-- SEO Meta -->
    <link rel="canonical" href="https://lettasignal.ru/">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="description" content="Узнайте, сколько денег вы теряете на неэффективных продажах. Анализ разговоров с клиентами через ИИ поможет увеличить конверсию на 15-25%. Рассчитайте потенциальную прибыль прямо сейчас!">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#1a1a2e" media="(prefers-color-scheme: dark)">
    <meta name="theme-color" content="#007bff" media="(prefers-color-scheme: light)">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Open Graph теги для соцсетей -->
    <meta property="og:title" content="Революция в анализе продаж - LETTA SIGNAL">
    <meta property="og:description" content="Узнайте, сколько денег вы теряете на неэффективных продажах. Анализ разговоров с клиентами через ИИ поможет увеличить конверсию на 15-25%. Рассчитайте потенциальную прибыль прямо сейчас!">
    <meta property="og:image" content="https://lettasignal.ru/img/og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://lettasignal.ru/">
    <meta property="og:site_name" content="LETTA SIGNAL">
    <meta property="og:locale" content="ru_RU">

    <!-- Twitter Card теги -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Революция в анализе продаж - LETTA SIGNAL">
    <meta name="twitter:description" content="Узнайте, сколько денег вы теряете на неэффективных продажах. Анализ разговоров с клиентами через ИИ поможет увеличить конверсию на 15-25%. Рассчитайте потенциальную прибыль прямо сейчас!">
    <meta name="twitter:image" content="https://lettasignal.ru/img/og-image.jpg">
    <meta name="twitter:site" content="@LettaSignal">
    <meta name="twitter:creator" content="@LettaSignal">

    <!-- Структурированные данные JSON-LD -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "ProfessionalService",
        "name": "LETTA SIGNAL",
        "description": "Сервис анализа продаж с использованием искусственного интеллекта. Помогаем компаниям увеличить конверсию на 15-25% через анализ разговоров с клиентами.",
        "image": "https://lettasignal.ru/img/og-image.jpg",
        "url": "https://lettasignal.ru",
        "telephone": "+7-923-223-2525",
        "email": "info@lettasignal.ru",
        "address": {
            "@type": "PostalAddress",
            "addressCountry": "RU",
            "addressLocality": "Москва"
        },
        "priceRange": "₽₽₽",
        "openingHours": "Mo-Fr 09:00-18:00",
        "areaServed": "RU",
        "serviceType": "Анализ продаж",
        "offers": {
            "@type": "Offer",
            "description": "Анализ разговоров с клиентами через ИИ",
            "availability": "https://schema.org/InStock"
        },
        "hasOfferCatalog": {
            "@type": "OfferCatalog",
            "name": "Услуги анализа продаж",
            "itemListElement": [
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Service",
                        "name": "Анализ разговоров с клиентами",
                        "description": "Автоматический анализ разговоров с помощью ИИ для повышения конверсии"
                    }
                },
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Service",
                        "name": "Оценка эффективности продавцов",
                        "description": "Выявление сильных и слабых сторон в работе менеджеров по продажам"
                    }
                }
            ]
        },
        "sameAs": [
            "https://twitter.com/LettaSignal",
            "https://www.facebook.com/LettaSignal",
            "https://www.linkedin.com/company/lettasignal"
        ],
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "reviewCount": "127"
        }
    }
    </script>
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/sections.css">
    <link rel="stylesheet" href="styles/animations.css">
    <link rel="stylesheet" href="styles/responsive.css">
    <style>

        /* Skip Navigation Link for Accessibility */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 6px;
            background: #007bff;
            color: white;
            padding: 8px;
            text-decoration: none;
            border-radius: 4px;
            z-index: 9999;
            font-weight: 600;
            transition: top 0.3s ease;
        }

        .skip-link:focus {
            top: 6px;
        }

        /* Header Navigation */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .header.scrolled {
            background: rgba(10, 10, 10, 0.98);
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.3);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 80px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
            text-decoration: none;
            color: #fff;
            font-weight: 800;
            font-size: 1.5rem;
            transition: all 0.3s ease;
        }

        .logo:hover {
            transform: translateY(-2px);
        }

        .logo-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #3a3a3a, #2a2a2a);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            box-shadow: 0 5px 15px rgba(58, 58, 58, 0.3);
        }

        .logo-icon::before {
            content: 'LS';
            color: #fff;
            font-size: 1.2rem;
            font-weight: 900;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .logo-text {
            background: linear-gradient(135deg, #3a3a3a, #007bff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-menu {
            display: flex;
            align-items: center;
            gap: 40px;
            list-style: none;
        }

        .nav-link {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            font-weight: 600;
            padding: 10px 0;
            position: relative;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            color: #007bff;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #007bff, #00d4ff);
            transition: width 0.3s ease;
        }

        .nav-link:hover::after,
        .nav-link.active::after {
            width: 100%;
        }

        .nav-cta {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            padding: 12px 25px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 700;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 123, 255, 0.3);
            position: relative;
            z-index: var(--z-header);
            white-space: nowrap;
        }

        .nav-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 123, 255, 0.4);
        }

        /* Reading Progress Bar */
        .progress-bar-reading {
            position: fixed;
            top: 80px;
            left: 0;
            width: 100%;
            height: 3px;
            background: rgba(255, 255, 255, 0.1);
            z-index: 999;
        }

        .progress-fill-reading {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #007bff, #00d4ff);
            transition: width 0.1s ease;
            box-shadow: 0 0 10px rgba(0, 123, 255, 0.5);
        }

        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #007bff, #0056b3);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            opacity: 0;
            visibility: hidden;
            z-index: 998;
            box-shadow: 0 10px 30px rgba(0, 123, 255, 0.3);
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 123, 255, 0.4);
        }

        .back-to-top::before {
            content: '↑';
        }

        /* Mobile Navigation */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 10px;
        }



            .logo-text {
                display: none;
            }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Scroll reveal animations */
        .reveal {
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s ease;
        }

        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }



        @keyframes scan {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(1deg); }
        }

        .demo-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255,255,255,0.15);
            position: relative;
            z-index: 2;
        }

        .demo-dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: #ff4757;
            animation: blink 2s ease-in-out infinite;
        }

        .demo-dot:nth-child(2) { 
            background: #ffa502; 
            animation-delay: 0.3s;
        }
        .demo-dot:nth-child(3) { 
            background: #2ed573; 
            animation-delay: 0.6s;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; box-shadow: 0 0 10px currentColor; }
            50% { opacity: 0.6; box-shadow: 0 0 20px currentColor; }
        }

        .telegram-msg {
            background: rgba(0,123,255,0.15);
            border-left: 4px solid #007bff;
            padding: 20px;
            margin: 15px 0;
            border-radius: 12px;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace;
            font-size: 0.95rem;
            position: relative;
            z-index: 2;
            box-shadow: inset 0 1px 0 rgba(255,255,255,0.1);
        }

        .score {
            font-size: 2.2rem;
            color: #ff4757;
            font-weight: 900;
            text-shadow: 0 0 15px rgba(255,71,87,0.5);
            animation: scoreGlow 2s ease-in-out infinite;
        }

        @keyframes scoreGlow {
            0%, 100% { text-shadow: 0 0 15px rgba(255,71,87,0.5); }
            50% { text-shadow: 0 0 25px rgba(255,71,87,0.8), 0 0 35px rgba(255,71,87,0.3); }
        }





        .calc-input {
            background: rgba(255,255,255,0.95);
            border: 2px solid rgba(255,255,255,0.3);
            color: #000;
            padding: 18px 25px;
            border-radius: 15px;
            margin: 15px;
            font-size: 1.1rem;
            font-weight: 500;
            width: 100%;
            max-width: 500px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .calc-input:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 20px rgba(0,123,255,0.3);
            transform: translateY(-2px);
            background: #ffffff;
        }

        .calc-input::placeholder {
            color: rgba(0,0,0,0.5);
            font-weight: normal;
        }

        .calc-result {
            background: linear-gradient(135deg, #ff4757, #ff3742);
            padding: 40px;
            border-radius: 20px;
            margin-top: 40px;
            font-size: 1.6rem;
            font-weight: 800;
            box-shadow: 0 20px 40px rgba(255,71,87,0.3);
            position: relative;
            overflow: hidden;
        }

        .calc-result::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: resultShine 2s ease-in-out infinite;
        }

        @keyframes resultShine {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* Enhanced Pain Section */
        .pain-section {
            padding: 120px 0;
            background: linear-gradient(135deg, #ff4757, #ff3742);
            position: relative;
            overflow: hidden;
        }

        .pain-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="2" fill="rgba(255,255,255,0.1)"/></svg>');
            animation: particles 10s linear infinite;
        }

        @keyframes particles {
            0% { transform: translateY(0); }
            100% { transform: translateY(-100px); }
        }

        .pain-content {
            text-align: center;
            position: relative;
            z-index: 1;
        }

        .pain-content h2 {
            font-size: 3.2rem;
            margin-bottom: 50px;
            font-weight: 900;
            text-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

        .pain-points {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 40px;
            margin-top: 60px;
        }

        .pain-point {
            background: rgba(0,0,0,0.25);
            padding: 40px;
            border-radius: 20px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.1);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .pain-point:hover {
            transform: translateY(-10px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.4);
        }

        .pain-point::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.6s ease;
        }

        .pain-point:hover::before {
            left: 100%;
        }

        .pain-point h3 {
            font-size: 1.6rem;
            margin-bottom: 20px;
            color: #fff;
            font-weight: 700;
        }

        .loss-timer {
            background: rgba(0,0,0,0.4);
            padding: 30px;
            border-radius: 15px;
            margin-top: 40px;
            text-align: center;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.1);
        }

        .timer-value {
            font-size: 3rem;
            color: #ffa502;
            font-weight: 900;
            font-family: 'SF Mono', Monaco, monospace;
            text-shadow: 0 0 20px rgba(255,165,2,0.5);
            animation: timerPulse 1s ease-in-out infinite;
        }

        @keyframes timerPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Enhanced Solution Section */
        .solution-section {
            padding: 120px 0;
            background: rgba(0,0,0,0.3);
            position: relative;
        }

        .solution-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            align-items: center;
        }

        .solution-text h2 {
            font-size: 3rem;
            margin-bottom: 35px;
            color: #2ed573;
            font-weight: 800;
            text-shadow: 0 0 20px rgba(46,213,115,0.3);
        }

        .before-after {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 50px 0;
        }

        .before, .after {
            padding: 35px;
            border-radius: 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
        }

        .before {
            background: rgba(255,71,87,0.15);
            border: 2px solid #ff4757;
            box-shadow: 0 15px 30px rgba(255,71,87,0.2);
        }

        .after {
            background: rgba(46,213,115,0.15);
            border: 2px solid #2ed573;
            box-shadow: 0 15px 30px rgba(46,213,115,0.2);
            animation: afterGlow 3s ease-in-out infinite;
        }

        @keyframes afterGlow {
            0%, 100% { box-shadow: 0 15px 30px rgba(46,213,115,0.2); }
            50% { box-shadow: 0 20px 40px rgba(46,213,115,0.4); }
        }

        .conversion-growth {
            font-size: 2.8rem;
            font-weight: 900;
            margin: 20px 0;
            text-shadow: 0 0 15px currentColor;
        }

        .conversion-arrow {
            font-size: 3rem;
            color: #2ed573;
            margin: 20px 0;
            animation: bounce 2s ease-in-out infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(10px); }
        }

        /* Enhanced Testimonials */
        .testimonials-section {
            padding: 120px 0;
            background: rgba(0,123,255,0.08);
            position: relative;
        }

        .testimonials {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 50px;
        }

        .testimonial {
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(20px);
            padding: 50px;
            border-radius: 25px;
            border: 1px solid rgba(255,255,255,0.15);
            position: relative;
            transition: all 0.4s ease;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .testimonial:hover {
            transform: translateY(-15px);
            box-shadow: 0 30px 60px rgba(0,0,0,0.3);
        }

        .testimonial::before {
            content: '"';
            position: absolute;
            top: -15px;
            left: 25px;
            font-size: 5rem;
            color: #007bff;
            font-weight: 900;
            text-shadow: 0 0 20px rgba(0,123,255,0.5);
        }

        .company-logo {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #007bff, #00d4ff);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 1.5rem;
            margin-bottom: 25px;
            box-shadow: 0 10px 20px rgba(0,123,255,0.3);
        }

        /* Interactive Progress Bars */
        .metric-bar {
            background: rgba(255,255,255,0.1);
            height: 8px;
            border-radius: 4px;
            margin: 15px 0;
            overflow: hidden;
        }

        .metric-fill {
            height: 100%;
            background: linear-gradient(90deg, #2ed573, #00d4ff);
            border-radius: 4px;
            transition: width 2s ease;
            box-shadow: 0 0 10px rgba(46,213,115,0.5);
        }

        /* Enhanced Pricing */
        .pricing-section {
            padding: 120px 0;
            background: rgba(0,0,0,0.4);
            position: relative;
        }

        .pricing-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 50px;
            margin-top: 60px;
        }

        .pricing-card {
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(25px);
            border-radius: 25px;
            padding: 50px;
            border: 2px solid transparent;
            transition: all 0.5s ease;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .pricing-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.05), transparent);
            transition: left 0.8s ease;
        }

        .pricing-card:hover {
            transform: translateY(-15px) scale(1.02);
            border-color: #007bff;
            box-shadow: 0 35px 70px rgba(0,123,255,0.3);
        }

        .pricing-card:hover::before {
            left: 100%;
        }

        .price {
            font-size: 3.5rem;
            font-weight: 900;
            color: #007bff;
            margin: 25px 0;
            text-shadow: 0 0 20px rgba(0,123,255,0.3);
        }

        .pricing-card.popular {
            border-color: #ffa502;
            background: rgba(255,165,2,0.15);
            transform: scale(1.05);
        }

        .popular-badge {
            background: linear-gradient(135deg, #ffa502, #ff6348);
            color: white;
            padding: 12px 25px;
            border-radius: 30px;
            font-weight: 800;
            margin-bottom: 25px;
            display: inline-block;
            box-shadow: 0 10px 20px rgba(255,165,2,0.3);
            animation: badgePulse 2s ease-in-out infinite;
        }

        @keyframes badgePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Enhanced Urgency Section */
        .urgency-section {
            padding: 120px 0;
            background: linear-gradient(135deg, #ff4757, #ff3742);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .urgency-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: urgencyFloat 20s linear infinite;
        }

        @keyframes urgencyFloat {
            0% { transform: translate(0, 0) rotate(0deg); }
            100% { transform: translate(-50px, -50px) rotate(360deg); }
        }

        .countdown {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 25px;
            max-width: 700px;
            margin: 50px auto;
            position: relative;
            z-index: 1;
        }

        .countdown-item {
            background: rgba(0,0,0,0.4);
            padding: 30px 20px;
            border-radius: 20px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.15);
            transition: all 0.3s ease;
        }

        .countdown-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.4);
        }

        .countdown-number {
            font-size: 3rem;
            font-weight: 900;
            color: #ffa502;
            display: block;
            text-shadow: 0 0 20px rgba(255,165,2,0.5);
            animation: countdownPulse 1s ease-in-out infinite;
        }

        @keyframes countdownPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .spots-left {
            font-size: 3.5rem;
            font-weight: 900;
            color: #ffa502;
            margin: 30px 0;
            animation: spotsAlert 2s ease-in-out infinite;
            text-shadow: 0 0 30px rgba(255,165,2,0.6);
        }

        @keyframes spotsAlert {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }

        /* Enhanced Final CTA */
        .final-cta {
            padding: 120px 0;
            background: radial-gradient(ellipse at center, rgba(0,123,255,0.25) 0%, rgba(0,0,0,0.9) 70%);
            text-align: center;
            position: relative;
        }

        .final-cta h2 {
            font-size: 4rem;
            margin-bottom: 50px;
            font-weight: 900;
            background: linear-gradient(135deg, #007bff, #00d4ff, #007bff);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: finalShimmer 3s ease-in-out infinite;
        }

        @keyframes finalShimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .guarantee {
            background: rgba(46,213,115,0.15);
            border: 2px solid #2ed573;
            padding: 40px;
            border-radius: 20px;
            margin: 50px 0;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            backdrop-filter: blur(15px);
            box-shadow: 0 20px 40px rgba(46,213,115,0.2);
            position: relative;
            overflow: hidden;
        }

        .guarantee::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(46,213,115,0.1), transparent);
            animation: guaranteeGlow 4s linear infinite;
        }

        @keyframes guaranteeGlow {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        /* Form Modal Enhanced */
        .form-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .form-content {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            padding: 50px;
            border-radius: 25px;
            max-width: 550px;
            width: 90%;
            border: 1px solid rgba(255,255,255,0.15);
            position: relative;
            box-shadow: 0 50px 100px rgba(0,0,0,0.5);
            animation: modalSlideIn 0.5s ease;
        }

        @keyframes modalSlideIn {
            0% { opacity: 0; transform: translateY(-50px) scale(0.9); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: #fff;
            font-size: 1rem;
            font-weight: 600;
            text-align: left;
        }

        .form-input {
            width: 100%;
            padding: 18px 25px;
            margin: 15px 0;
            border: 2px solid rgba(255,255,255,0.2);
            background: rgba(255,255,255,0.1);
            color: white;
            border-radius: 15px;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .form-input:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 20px rgba(0,123,255,0.3);
            transform: translateY(-2px);
        }

        .progress-bar {
            height: 4px;
            background: rgba(255,255,255,0.2);
            border-radius: 2px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #007bff, #00d4ff);
            border-radius: 2px;
            transition: width 0.3s ease;
            box-shadow: 0 0 10px rgba(0,123,255,0.5);
        }

        /* Fix for iPhone notch and home indicator */
        @supports (padding: max(0px)) {
            body {
                padding-top: max(env(safe-area-inset-top), 20px);
                padding-bottom: max(env(safe-area-inset-bottom), 20px);
                padding-left: max(env(safe-area-inset-left), 20px);
                padding-right: max(env(safe-area-inset-right), 20px);
                min-height: -webkit-fill-available;
            }

            .header {
                padding-top: env(safe-area-inset-top);
            }

            .form-modal {
                padding-bottom: env(safe-area-inset-bottom);
            }
        }

        /* iPhone and small screens */
        @media screen and (max-width: 430px) {
            html {
                font-size: 14px;
            }
            
            body {
                width: 100%;
                overflow-x: hidden;
                word-wrap: break-word;
                overflow-wrap: break-word;
            }

            h1, h2, h3 {
                font-size: clamp(1.5rem, 5vw, 2.5rem);
                word-wrap: break-word;
                overflow-wrap: break-word;
                hyphens: auto;
            }

            .hero-text {
                width: 100%;
                padding: 0 15px;
                box-sizing: border-box;
            }

            .container {
                width: 100%;
                max-width: 100%;
                padding: 0 15px;
                box-sizing: border-box;
                overflow: hidden;
            }
        }

        /* iPhone 14 Pro Max specific */
        @media only screen 
            and (device-width: 430px) 
            and (device-height: 932px) 
            and (-webkit-device-pixel-ratio: 3) {
            .container {
                width: 100%;
                padding-left: max(20px, env(safe-area-inset-left));
                padding-right: max(20px, env(safe-area-inset-right));
            }

            .telegram-interface {
                transform: scale(0.9);
                margin: 0 auto;
            }

            .header-content {
                padding: 0 max(20px, env(safe-area-inset-left));
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-content,
            .solution-content {
                grid-template-columns: 1fr;
                gap: 50px;
            }
            
            .hero-text h1 {
                font-size: 2.8rem;
            }
            
            .countdown {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .calc-input {
                width: 100%;
                margin: 10px 0;
            }
            
            .final-cta h2 {
                font-size: 2.5rem;
            }
        }

        .section-title {
            text-align: center;
            font-size: 3.2rem;
            font-weight: 900;
            margin-bottom: 60px;
            background: linear-gradient(135deg, #007bff, #00d4ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: linear-gradient(90deg, #007bff, #00d4ff);
            border-radius: 2px;
        }

        /* Interactive Demo Section */
        .demo-section {
            padding: 120px 0;
            background: rgba(0,0,0,0.2);
            position: relative;
        }

        .demo-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .demo-interface {
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(25px);
            border-radius: 25px;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.15);
            box-shadow: 0 30px 60px rgba(0,0,0,0.3);
        }

        .demo-tabs {
            display: flex;
            background: rgba(0,0,0,0.2);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .demo-tab {
            flex: 1;
            padding: 20px;
            background: none;
            border: none;
            color: rgba(255,255,255,0.6);
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .demo-tab.active {
            color: #007bff;
            background: rgba(0,123,255,0.1);
            border-bottom: 3px solid #007bff;
        }

        .demo-content {
            display: none;
            padding: 25px;
            min-height: 360px;
        }

        .demo-content.active {
            display: block;
        }

        /* Telegram Interface */
        .telegram-interface {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.1);
            max-width: 380px;
            margin: 0 auto;
            transform: scale(0.85);
            transform-origin: top center;
        }

        .telegram-header {
            background: rgba(0,123,255,0.1);
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .telegram-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #3a3a3a, #007bff);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 800;
            font-size: 0.9rem;
        }

        .telegram-info {
            flex: 1;
        }

        .telegram-name {
            font-weight: 700;
            color: #fff;
            font-size: 1.1rem;
        }

        .telegram-status {
            font-size: 0.85rem;
            color: #2ed573;
        }

        .telegram-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #2ed573;
            animation: pulse 2s infinite;
        }

        .telegram-messages {
            padding: 20px;
            max-height: 400px;
            overflow-y: auto;
        }

        .telegram-message {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-end;
            gap: 10px;
        }

        .telegram-message.bot {
            flex-direction: row;
        }

        .telegram-message.user {
            flex-direction: row-reverse;
        }

        .message-content {
            background: rgba(0,123,255,0.15);
            border: 1px solid rgba(0,123,255,0.3);
            padding: 10px 12px;
            border-radius: 12px;
            max-width: 85%;
            font-size: 0.85rem;
            line-height: 1.35;
        }

        .telegram-message.user .message-content {
            background: rgba(46,213,115,0.15);
            border-color: rgba(46,213,115,0.3);
        }

        .message-time {
            font-size: 0.75rem;
            color: rgba(255,255,255,0.5);
            margin-top: 5px;
        }

        .telegram-input {
            padding: 20px;
            background: rgba(0,0,0,0.1);
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        /* File Upload Area */
        .file-upload-area {
            border: 2px dashed rgba(0,123,255,0.5);
            border-radius: 15px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(0,123,255,0.05);
            margin-bottom: 20px;
        }

        .file-upload-area:hover {
            border-color: #007bff;
            background: rgba(0,123,255,0.1);
        }

        .file-upload-area.dragover {
            border-color: #2ed573;
            background: rgba(46,213,115,0.1);
        }

        .upload-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .upload-text {
            color: #b8c6db;
            font-size: 1.1rem;
        }

        .demo-upload-btn {
            width: 100%;
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .demo-upload-btn:disabled {
            background: rgba(255,255,255,0.1);
            color: rgba(255,255,255,0.5);
            cursor: not-allowed;
        }

        .demo-upload-btn:not(:disabled):hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,123,255,0.3);
        }

        /* Analysis Process */
        .analysis-process {
            text-align: center;
            transform: scale(0.85);
            transform-origin: top center;
        }

        .analysis-header {
            margin-bottom: 50px;
        }

        .analysis-header h3 {
            font-size: 2rem;
            margin-bottom: 30px;
            color: #007bff;
        }

        .progress-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: conic-gradient(from 0deg, #007bff 0deg, #007bff var(--progress, 0deg), rgba(255,255,255,0.1) var(--progress, 0deg));
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            position: relative;
        }

        .progress-circle::before {
            content: '';
            width: 90px;
            height: 90px;
            border-radius: 50%;
            background: rgba(10,10,10,0.8);
            position: absolute;
        }

        .progress-value {
            position: relative;
            z-index: 1;
            font-size: 1.3rem;
            font-weight: 800;
            color: #007bff;
        }

        .analysis-steps {
            text-align: left;
            max-width: 500px;
            margin: 0 auto;
        }

        .analysis-step {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            margin: 40px 0;
            border-radius: 12px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            transition: all 0.5s ease;
            font-size: 0.9rem;
        }

        .analysis-step.completed {
            background: rgba(46,213,115,0.1);
            border-color: #2ed573;
        }

        .analysis-step.processing {
            background: rgba(255,165,2,0.1);
            border-color: #ffa502;
            animation: processing 2s infinite;
        }

        @keyframes processing {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .step-icon {
            font-size: 1.5rem;
            width: 40px;
            text-align: center;
        }

        .step-text strong {
            color: #fff;
            font-size: 1.1rem;
        }

        /* Demo Report */
        .demo-report {
            text-align: center;
        }

        .report-header {
            margin-bottom: 40px;
        }

        .report-header h3 {
            font-size: 2rem;
            margin-bottom: 30px;
            color: #2ed573;
        }

        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: conic-gradient(from 0deg, #ffa502 0deg, #ffa502 187deg, rgba(255,255,255,0.1) 187deg);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            position: relative;
        }

        .score-circle::before {
            content: '';
            width: 90px;
            height: 90px;
            border-radius: 50%;
            background: rgba(10,10,10,0.8);
            position: absolute;
        }

        .score-value {
            position: relative;
            z-index: 1;
            font-size: 1.5rem;
            font-weight: 900;
            color: #ffa502;
        }

        .score-label {
            position: relative;
            z-index: 1;
            font-size: 0.9rem;
            color: rgba(255,255,255,0.7);
        }

        /* IMPROVED: Точная копия стилей НИРВАНА AI Dashboard */
        .dashboard-demo {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            backdrop-filter: blur(30px);
            border-radius: 25px;
            padding: 35px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1);
            min-height: 700px;
            position: relative;
            overflow: hidden;
            animation: float 6s ease-in-out infinite;
        }

        .dashboard-demo::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.2) 0%, transparent 50%);
            animation: bgShift 20s ease-in-out infinite;
        }

        @keyframes bgShift {
            0%, 100% { transform: translateX(0) translateY(0); }
            25% { transform: translateX(-20px) translateY(-20px); }
            50% { transform: translateX(20px) translateY(-10px); }
            75% { transform: translateX(-10px) translateY(20px); }
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            padding-bottom: 25px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            z-index: 2;
        }

        .dashboard-title {
            font-size: 2.2rem;
            font-weight: 900;
            background: linear-gradient(45deg, #ff006e, #8338ec, #3a86ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 20px rgba(255, 0, 110, 0.3);
        }

        .dashboard-status {
            background: linear-gradient(45deg, #00ff7f, #00d4aa);
            color: #000;
            padding: 12px 20px;
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: 800;
            box-shadow: 0 10px 25px rgba(0, 255, 127, 0.3);
            animation: statusGlow 2s ease-in-out infinite alternate;
        }

        @keyframes statusGlow {
            0% { box-shadow: 0 10px 25px rgba(0, 255, 127, 0.3); }
            100% { box-shadow: 0 15px 35px rgba(0, 255, 127, 0.5); }
        }

        .dashboard-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
            position: relative;
            z-index: 2;
        }

        .dashboard-metric {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            backdrop-filter: blur(30px);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            position: relative;
            overflow: hidden;
        }

        .dashboard-metric::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #ff006e, #8338ec, #3a86ff);
        }

        .dashboard-metric:hover {
            transform: translateY(-10px);
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.3);
        }

        .metric-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #ff006e, #8338ec);
            box-shadow: 0 10px 25px rgba(255, 0, 110, 0.3);
        }

        .metric-value {
            font-size: 32px;
            font-weight: 900;
            margin-bottom: 8px;
            background: linear-gradient(45deg, #ff006e, #8338ec);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: valueGlow 3s ease-in-out infinite;
        }

        @keyframes valueGlow {
            0%, 100% { text-shadow: 0 0 20px rgba(255, 0, 110, 0.3); }
            50% { text-shadow: 0 0 30px rgba(255, 0, 110, 0.6); }
        }

        .metric-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 10px;
        }

        .metric-trend {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            font-weight: 600;
            color: #00ff7f;
            background: rgba(0, 255, 127, 0.1);
            padding: 5px 10px;
            border-radius: 10px;
        }

        .dashboard-charts {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 25px;
            margin-bottom: 40px;
            position: relative;
            z-index: 2;
        }

        .chart-widget {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            backdrop-filter: blur(30px);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .chart-widget:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        }

        .chart-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 20px;
            color: white;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .mini-chart {
            height: 180px;
            background: radial-gradient(ellipse at center, rgba(131, 56, 236, 0.1) 0%, transparent 70%);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .mini-chart::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 0;
            background: linear-gradient(180deg, rgba(255, 0, 110, 0.3) 0%, rgba(131, 56, 236, 0.3) 50%, rgba(58, 134, 255, 0.3) 100%);
            border-radius: 0 0 15px 15px;
            animation: chartGrowth 4s ease-in-out infinite;
        }

        @keyframes chartGrowth {
            0% { height: 20%; }
            50% { height: 80%; }
            100% { height: 20%; }
        }

        .top-performers {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
        }

        .performer-item {
            display: flex;
            align-items: center;
            padding: 15px;
            margin-bottom: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .performer-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }

        .performer-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ff006e, #8338ec);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 18px;
            margin-right: 15px;
            box-shadow: 0 5px 15px rgba(255, 0, 110, 0.3);
        }

        .performer-info {
            flex: 1;
        }

        .performer-name {
            font-weight: 600;
            margin-bottom: 3px;
            color: #fff;
        }

        .performer-stats {
            color: rgba(255, 255, 255, 0.6);
            font-size: 12px;
        }

        .performer-score {
            font-size: 18px;
            font-weight: 800;
            background: linear-gradient(45deg, #00ff7f, #ff006e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .ai-insights {
            position: relative;
            z-index: 2;
        }

        .insights-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 25px;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .insight-item {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.03) 100%);
            backdrop-filter: blur(20px);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-left: 4px solid #ff006e;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .insight-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.05), transparent);
            transition: left 0.6s ease;
        }

        .insight-item:hover {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0.06) 100%);
            transform: translateX(5px);
            box-shadow: 0 10px 30px rgba(255, 0, 110, 0.2);
        }

        .insight-item:hover::before {
            left: 100%;
        }

        .insight-text {
            font-size: 0.95rem;
            line-height: 1.5;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 500;
        }

        .insight-priority {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 11px;
            font-weight: 600;
            margin-top: 10px;
        }

        .priority-high {
            background: linear-gradient(45deg, #ff006e, #ff4081);
            color: white;
        }

        .priority-medium {
            background: linear-gradient(45deg, #ffc107, #ff9800);
            color: #000;
        }

        .priority-low {
            background: linear-gradient(45deg, #00ff7f, #00d4aa);
            color: #000;
        }

        /* Animated particles for dashboard */
        .dashboard-particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 1;
        }

        .dashboard-particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            animation: dashboardFloat 6s ease-in-out infinite;
        }

        @keyframes dashboardFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .demo-actions {
            margin-top: 40px;
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .demo-reset {
            background: rgba(255,255,255,0.1);
            color: white;
            padding: 15px 30px;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .demo-reset:hover {
            background: rgba(255,255,255,0.15);
            transform: translateY(-2px);
        }

        /* Demo Features */
        .demo-features {
            margin-top: 80px;
            padding: 60px 40px;
            background: rgba(255,255,255,0.03);
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .feature-item {
            text-align: center;
            padding: 30px 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            border: 1px solid rgba(255,255,255,0.1);
            transition: all 0.3s ease;
        }

        .feature-item:hover {
            transform: translateY(-5px);
            background: rgba(255,255,255,0.08);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }

        .feature-item h4 {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: #007bff;
        }

        .feature-item p {
            color: #b8c6db;
            line-height: 1.5;
        }

        /* Interactive Chart */
        .growth-chart {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            position: relative;
            overflow: hidden;
        }

        .chart-bars {
            display: flex;
            align-items: end;
            justify-content: space-around;
            height: 200px;
            margin: 20px 0;
        }

        .chart-bar {
            width: 40px;
            background: linear-gradient(to top, #ff4757, #ffa502);
            border-radius: 4px 4px 0 0;
            position: relative;
            transition: all 1s ease;
        }

        .chart-bar.after {
            background: linear-gradient(to top, #2ed573, #00d4ff);
        }

        .chart-label {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.9rem;
            color: #b8c6db;
        }

        .chart-value {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-weight: 700;
            font-size: 0.9rem;
        }


            
            .demo-tabs {
                flex-wrap: wrap;
            }
            
            .demo-tab {
                flex: 1;
                min-width: 120px;
                padding: 15px 10px;
                font-size: 0.9rem;
            }
    </style>
</head>
<body>
    <!-- Skip Navigation for Accessibility -->
    <a href="#main-content" class="skip-link" tabindex="1">Перейти к основному содержанию</a>
    
    <!-- Header Navigation -->
    <header class="header" id="header">
        <div class="header-content">
            <a href="#home" class="logo">
                <div class="logo-icon"></div>
                <span class="logo-text">LETTA SIGNAL</span>
            </a>
            
            <nav>
                <ul class="nav-menu" id="navMenu">
                    <li><a href="#home" class="nav-link active">Главная</a></li>
                    <li><a href="#problem" class="nav-link">Проблема</a></li>
                    <li><a href="#solution" class="nav-link">Решение</a></li>
                    <li><a href="#demo" class="nav-link">Демо</a></li>
                    <li><a href="#cases" class="nav-link">Кейсы</a></li>
                    <li><a href="#pricing" class="nav-link">Тарифы</a></li>
                    <li><a href="#contact" class="nav-cta">Получить анализ</a></li>
                </ul>
                
                <button class="mobile-menu-toggle" id="mobileToggle">
                    <span>☰</span>
                </button>
            </nav>
        </div>
    </header>

    <!-- Reading Progress Bar -->
    <div class="progress-bar-reading">
        <div class="progress-fill-reading" id="readingProgress"></div>
    </div>

    <!-- Back to Top Button -->
    <button class="back-to-top" id="backToTop"></button>
    <!-- Hero Section -->
    <main id="main-content">
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <div class="hero-text reveal">
                    <h1>Ваш преподаватель Иван получил <span class="hero-highlight">52 балла из 150</span> возможных</h1>
                    <p>Он <strong>НИ РАЗУ</strong> не назвал студентку по имени.<br>
                    Потерял <span class="hero-highlight">180,000₽</span> годовой прибыли из-за одной привычки.</p>
                    <button class="cta-primary" onclick="scrollToCalculator()" 
                            aria-label="Перейти к калькулятору потерь продаж" 
                            tabindex="0">
                        <span>Узнать сколько теряют ваши продавцы</span>
                    </button>
                </div>
                <div class="hero-demo reveal">
                    <div class="demo-header">
                        <div class="demo-dot"></div>
                        <div class="demo-dot"></div>
                        <div class="demo-dot"></div>
                        <span style="margin-left: 15px; color: #b8c6db; font-weight: 600;">Telegram - Анализ продаж</span>
                    </div>
                    <div class="telegram-msg">
                        🎯 <strong>Анализ пробного занятия</strong><br><br>
                        👨‍🎓 <strong>Преподаватель:</strong> Иван<br>
                        🎸 <strong>Тип:</strong> вокал<br>
                        🎯 <strong>Общий балл:</strong> <span class="score">52/150</span><br><br>
                        ❌ <strong>Критичные ошибки:</strong><br>
                        • НЕ использовал имя студента ни разу<br>
                        • Не выяснил истинные мотивы<br>
                        • Отсутствие техник закрытия<br><br>
                        💡 <strong>Потенциал роста:</strong> +38% конверсии
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Calculator Section -->
    <section class="calculator-section" id="calculator">
        <div class="container">
            <div class="calculator reveal">
                <h2 style="color: #fff; text-shadow: 0 0 20px rgba(255,255,255,0.5);">Сколько денег тратится на бесполезные разговоры?</h2>
                <p style="font-size: 1.3rem; margin-bottom: 40px; color: #ffffff; text-shadow: 0 0 10px rgba(255,255,255,0.3);">
                    Ваши продавцы используют только <strong style="color: #ff4757; text-shadow: 0 0 10px rgba(255,71,87,0.5);">23%</strong> эффективных техник продаж.<br>
                    Остальные <strong style="color: #ff4757; text-shadow: 0 0 10px rgba(255,71,87,0.5);">77%</strong> — пустые разговоры, которые отталкивают клиентов.
                </p>
                
                <div style="margin: 50px 0;">
                    <input type="number" class="calc-input" id="monthlyRevenue" placeholder="Месячная выручка (₽)" oninput="calculateLoss()">
                    <input type="number" class="calc-input" id="salesCalls" placeholder="Количество продажных разговоров в месяц" oninput="calculateLoss()">
                    <input type="number" class="calc-input" id="conversionRate" placeholder="Текущая конверсия (%)" min="1" max="100" step="0.1" oninput="validateConversion(this); calculateLoss()">
                </div>

                <div class="progress-bar">
                    <div class="progress-fill" id="calcProgress" style="width: 0%;"></div>
                </div>

                <div class="calc-result" id="calcResult" style="display: none;">
                    <div>Вы теряете ежемесячно:</div>
                    <div style="font-size: 3rem; margin: 20px 0;" id="monthlyLoss">0₽</div>
                    <div>Потенциальный рост конверсии: <span style="color: #2ed573;">+15-25%</span></div>
                    <div style="font-size: 1.1rem; margin-top: 15px; opacity: 0.9;">
                        За год это составит: <span id="yearlyLoss" style="color: #ffa502; font-weight: 800;">0₽</span>
                    </div>
                    <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.1);">
                        <div style="font-size: 1rem; margin-bottom: 10px;">
                            Стоимость внедрения: <span id="implementationCost" style="color: #2ed573; font-weight: 700;">0₽</span>
                        </div>
                        <div style="font-size: 1rem;">
                            Потери от ожидания (30 дней): <span id="waitingPeriodLoss" style="color: #ff4757; font-weight: 700;">0₽</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Pain Section -->
    <section class="pain-section" id="problem">
        <div class="container">
            <div class="pain-content reveal">
                <h2>Пока вы читаете этот текст, ваши конкуренты:</h2>
                <div class="pain-points">
                    <div class="pain-point reveal">
                        <h3>🎯 Переманивают клиентов</h3>
                        <p>Которых ваши продавцы "почти закрыли" используя точную аналитику слабых мест</p>
                        <div class="metric-bar">
                            <div class="metric-fill" style="width: 73%;"></div>
                        </div>
                        <small>73% клиентов уходят к конкурентам</small>
                    </div>
                    <div class="pain-point reveal">
                        <h3>📈 Растут на 30-40% в год</h3>
                        <p>Используя те же ресурсы что и вы, но зная как исправить каждую ошибку продавца</p>
                        <div class="metric-bar">
                            <div class="metric-fill" style="width: 40%;"></div>
                        </div>
                        <small>40% рост при тех же затратах</small>
                    </div>
                    <div class="pain-point reveal">
                        <h3>🔍 Знают слабые места</h3>
                        <p>Каждого своего продавца и устраняют их за неделю с помощью ИИ-анализа</p>
                        <div class="metric-bar">
                            <div class="metric-fill" style="width: 95%;"></div>
                        </div>
                        <small>95% проблем решается за 7 дней</small>
                    </div>
                </div>
                
                <div class="loss-timer reveal">
                    <div style="font-size: 1.2rem; margin-bottom: 10px;">А вы продолжаете терять каждый день:</div>
                    <div class="timer-value" id="dailyLoss">12,000₽</div>
                    <div style="font-size: 1.1rem; margin-top: 15px; color: rgba(255,255,255,0.8);">
                        <div>В час теряете: <span id="hourlyLoss" style="color: #ffa502; font-weight: 700;">500₽</span></div>
                        <div style="margin-top: 10px;">Время на странице: <span id="timeOnPage">0</span> сек</div>
                        <div style="margin-top: 5px;">Потеряно за это время: <span id="lossOnPage" style="color: #ffa502; font-weight: 700;">0₽</span></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Solution Section -->
    <section class="solution-section" id="solution">
        <div class="container">
            <div class="solution-content">
                <div class="solution-text reveal">
                    <h2>Как Иван увидел свои ошибки и увеличил продажи на 38%</h2>
                    
                    <div class="growth-chart">
                        <h3 style="text-align: center; margin-bottom: 20px; color: #007bff;">Трансформация за месяц</h3>
                        <div class="chart-bars">
                            <div class="chart-bar" style="height: 44%;" data-height="44">
                                <div class="chart-value" style="color: #ff4757;">22%</div>
                                <div class="chart-label">ДО</div>
                            </div>
                            <div class="conversion-arrow" style="align-self: center; margin: 0 20px;">→</div>
                            <div class="chart-bar after" style="height: 76%;" data-height="76">
                                <div class="chart-value" style="color: #2ed573;">38%</div>
                                <div class="chart-label">ПОСЛЕ</div>
                            </div>
                        </div>
                    </div>

                    <div class="before-after">
                        <div class="before">
                            <h3>ДО анализа</h3>
                            <div class="conversion-growth" style="color: #ff4757;">22%</div>
                            <p>"Хм, вроде урок прошел хорошо, но не купила..."</p>
                        </div>
                        <div class="after">
                            <h3>ПОСЛЕ анализа</h3>
                            <div class="conversion-growth">38%</div>
                            <p>"Я НИ РАЗУ не использовал ее имя! И не выяснил зачем ей вокал!"</p>
                        </div>
                    </div>

                    <div style="background: rgba(0,123,255,0.15); padding: 25px; border-radius: 15px; margin: 30px 0; border-left: 4px solid #007bff;">
                        <h3 style="color: #00d4ff; margin-bottom: 15px;">💡 Главный инсайт:</h3>
                        <p style="font-size: 1.1rem;">Продавцы, которые молчат <strong style="color: #2ed573;">4 секунды</strong> после озвучивания цены, продают на <strong style="color: #2ed573;">28%</strong> больше</p>
                    </div>
                </div>
                
                <div class="hero-demo reveal">
                    <div class="demo-header">
                        <div class="demo-dot"></div>
                        <div class="demo-dot"></div>
                        <div class="demo-dot"></div>
                        <span style="margin-left: 15px; color: #b8c6db; font-weight: 600;">После исправлений</span>
                    </div>
                    <div class="telegram-msg">
                        🎯 <strong>Анализ пробного занятия #2</strong><br><br>
                        👨‍🎓 <strong>Преподаватель:</strong> Иван<br>
                        🎯 <strong>Общий балл:</strong> <span style="color: #2ed573; font-size: 1.8rem; font-weight: 900;">127/150</span><br><br>
                        ⭐ <strong>Золотые моменты:</strong><br>
                        • Использовал имя 6 раз за урок<br>
                        • Применил технику "5 ПОЧЕМУ"<br>
                        • Прямое закрытие сработало<br><br>
                        📈 <strong>Результат:</strong> <span style="color: #2ed573; font-weight: 800; font-size: 1.2rem;">ПРОДАЛ! +180,000₽</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Interactive Demo Section -->
    <section class="demo-section" id="demo">
        <div class="container">
            <h2 class="section-title reveal">Попробуйте LETTA SIGNAL прямо сейчас</h2>
            <p style="text-align: center; font-size: 1.3rem; margin-bottom: 60px; color: #b8c6db;" class="reveal">
                Загрузите аудиозапись продажи и получите мгновенный анализ
            </p>
            
            <div class="demo-container reveal">
                <div class="demo-interface">
                    <!-- ИЗМЕНЕНО: Добавлен 4-й таб "📊 Дашборд" -->
                    <div class="demo-tabs">
                        <button class="demo-tab active" data-tab="upload">📤 Загрузка</button>
                        <button class="demo-tab" data-tab="analysis">🔍 Анализ</button>
                        <button class="demo-tab" data-tab="report">📊 Отчет</button>
                        <button class="demo-tab" data-tab="dashboard">📊 Дашборд</button>
                    </div>
                    
                    <!-- Upload Tab -->
                    <div class="demo-content active" id="upload-tab">
                        <div class="telegram-interface">
                            <div class="telegram-header">
                                <div class="telegram-avatar">LS</div>
                                <div class="telegram-info">
                                    <div class="telegram-name">LETTA SIGNAL Bot</div>
                                    <div class="telegram-status">в сети</div>
                                </div>
                                <div class="telegram-actions">
                                    <span class="telegram-dot green"></span>
                                </div>
                            </div>
                            
                            <div class="telegram-messages" id="telegramMessages">
                                <div class="telegram-message bot">
                                    <div class="message-content">
                                        👋 Привет! Я LETTA SIGNAL Bot<br><br>
                                        Отправь мне аудиозапись разговора с клиентом, и я проанализирую её за 30 секунд.<br><br>
                                        Поддерживаемые форматы: MP3, WAV, M4A
                                    </div>
                                    <div class="message-time">сейчас</div>
                                </div>
                            </div>
                            
                            <div class="telegram-input">
                                <div class="file-upload-area" id="fileUploadArea">
                                    <div class="upload-icon">🎤</div>
                                    <div class="upload-text">
                                        <strong>Перетащите аудиофайл сюда</strong><br>
                                        или нажмите для выбора
                                    </div>
                                    <input type="file" id="audioFile" accept="audio/*" style="display: none;">
                                </div>
                                <button class="demo-upload-btn" id="demoUploadBtn" disabled>
                                    Загрузить демо-файл
                                </button>
                                
                                <div style="text-align: center; margin-top: 20px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.1);">
                                    <p style="font-size: 0.7rem; color: rgba(255,255,255,0.4); line-height: 1.2;">
                                        * Представленная демонстрация показывает процесс анализа аудиозаписи продаж.<br>
                                        Отчет создан для демонстрационных целей и не является результатом реального анализа.<br>
                                        Фактический анализ производится на основе загруженных вами аудиофайлов.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Analysis Tab -->
                    <div class="demo-content" id="analysis-tab" style="transform: scale(0.85); transform-origin: top center;">
                        <div class="analysis-process">
                            <div class="analysis-header">
                                <h3>🔍 Анализ в процессе...</h3>
                                <div class="analysis-progress">
                                    <div class="progress-circle">
                                        <div class="progress-value" id="analysisProgress">0%</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="analysis-steps">
                                <div class="analysis-step completed" id="step1">
                                    <div class="step-icon">✅</div>
                                    <div class="step-text">
                                        <strong>Загрузка завершена</strong><br>
                                        Файл успешно получен
                                    </div>
                                </div>
                                
                                <div class="analysis-step" id="step2">
                                    <div class="step-icon">🎯</div>
                                    <div class="step-text">
                                        <strong>Распознавание речи</strong><br>
                                        Преобразование аудио в текст...
                                    </div>
                                </div>
                                
                                <div class="analysis-step" id="step3">
                                    <div class="step-icon">🧠</div>
                                    <div class="step-text">
                                        <strong>ИИ-анализ</strong><br>
                                        Анализ техник продаж...
                                    </div>
                                </div>
                                
                                <div class="analysis-step" id="step4">
                                    <div class="step-icon">📊</div>
                                    <div class="step-text">
                                        <strong>Генерация отчета</strong><br>
                                        Подготовка рекомендаций...
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Report Tab -->
                    <div class="demo-content" id="report-tab">
                        <div class="demo-report">
                            <div class="report-header">
                                <h3>📊 Анализ завершен!</h3>
                                <div class="report-score">
                                    <div class="score-circle">
                                        <div class="score-value">78/150</div>
                                        <div class="score-label">Общий балл</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="telegram-interface" style="text-align: left;">
                                <div class="telegram-messages">
                                    <div class="telegram-message bot">
                                        <div class="message-content" style="text-align: left;">
                                            🎯 <strong>Анализ демо-разговора</strong><br><br>
                                            
                                            📅 <strong>Дата анализа:</strong> 05.08.2025 14:23<br>
                                            👤 <strong>Продавец:</strong> Демо<br>
                                            📞 <strong>Тип разговора:</strong> консультация<br>
                                            🎯 <strong>Общий балл:</strong> <span style="color: #ffa502; font-size: 1.5rem;">78/150</span><br><br>
                                            
                                            📊 <strong>Детальная оценка:</strong><br>
                                            • Эмоциональная магия: 20/35<br>
                                            • Выявление потребностей: 18/30<br>  
                                            • Архитектура продажи: 22/40<br>
                                            • Мастерство закрытия: 18/45<br><br>
                                            
                                            ⭐ <strong>Золотые моменты:</strong><br>
                                            • 1. Использовал имя клиента 4 раза - создал персональную связь<br>
                                            • 2. Задал уточняющий вопрос "А что для вас главное?" - правильное выявление приоритетов<br>
                                            • 3. Применил технику эмоционального якоря через историю успеха<br>
                                            • 4. Получил согласие на следующий шаг - зафиксировал интерес<br><br>
                                            
                                            ❌ <strong>Критичные ошибки:</strong><br>
                                            • 1. НЕ выяснил бюджет клиента - упустил ключевой квалификатор<br>
                                            • 2. Не использовал технику "4 секунды молчания" после озвучивания цены<br>
                                            • 3. Пропустил возражение "мне нужно подумать" без отработки<br>
                                            • 4. Не применил программирование согласия в начале разговора<br><br>
                                            
                                            💡 <strong>ТОП рекомендации:</strong><br>
                                            1. ОБЯЗАТЕЛЬНО выясняй бюджет в первые 2 минуты: "Какую сумму планируете инвестировать?"<br>
                                            2. После озвучивания цены молчи 4 секунды - дай клиенту самому убедить себя<br>
                                            3. На возражение "подумаю" отвечай: "Что именно вас смущает?" - копай глубже<br>
                                            4. Добавь в начало: "Наш разговор займет 15 минут: 10 минут я расскажу, 5 минут обсудим варианты. Подходит?"<br><br>
                                            
                                            💰 <strong>Потенциал роста:</strong> +25% конверсии при устранении ошибок
                                        </div>
                                        <div class="message-time">только что</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="demo-actions">
                            </div>
                        </div>
                    </div>

                    <!-- НОВОЕ: Dashboard Tab - Точная копия НИРВАНА AI -->
                    <div class="demo-content" id="dashboard-tab">
                        <div class="dashboard-demo">
                            <!-- Animated particles background -->
                            <div class="dashboard-particles" id="dashboardParticles"></div>
                            
                            <div class="dashboard-header">
                                <div class="dashboard-title">🎯 НИРВАНА AI - Дашборд продаж</div>
                                <div class="dashboard-status">🟢 Live аналитика</div>
                            </div>

                            <!-- Ключевые метрики в стиле Signal DEMO -->
                            <div class="dashboard-metrics">
                                <div class="dashboard-metric">
                                    <div class="metric-icon" style="background: linear-gradient(45deg, #00ff7f, #00d4aa);">📊</div>
                                    <div class="metric-value" id="dashConversion">72%</div>
                                    <div class="metric-label">Конверсия в продажу</div>
                                    <div class="metric-trend">📈 +8.4%</div>
                                </div>
                                <div class="dashboard-metric">
                                    <div class="metric-icon" style="background: linear-gradient(45deg, #ff006e, #ff4081);">⏱️</div>
                                    <div class="metric-value" id="dashTime">52мин</div>
                                    <div class="metric-label">Среднее время</div>
                                    <div class="metric-trend">🎯 Оптимально</div>
                                </div>
                                <div class="dashboard-metric">
                                    <div class="metric-icon" style="background: linear-gradient(45deg, #8338ec, #9c27b0);">💰</div>
                                    <div class="metric-value" id="dashRevenue">₽2.3M</div>
                                    <div class="metric-label">Потенц. выручка</div>
                                    <div class="metric-trend">📈 +127%</div>
                                </div>
                                <div class="dashboard-metric">
                                    <div class="metric-icon" style="background: linear-gradient(45deg, #3a86ff, #06ffa5);">🎓</div>
                                    <div class="metric-value" id="dashDeals">187</div>
                                    <div class="metric-label">Успешных продаж</div>
                                    <div class="metric-trend">🔥 Рекорд месяца</div>
                                </div>
                                <div class="dashboard-metric">
                                    <div class="metric-icon" style="background: linear-gradient(45deg, #ffc107, #ff9800);">📞</div>
                                    <div class="metric-value" id="dashCalls">256</div>
                                    <div class="metric-label">Всего пробных</div>
                                    <div class="metric-trend">📊 За месяц</div>
                                </div>
                                <div class="dashboard-metric">
                                    <div class="metric-icon" style="background: linear-gradient(45deg, #00d4aa, #06ffa5);">💎</div>
                                    <div class="metric-value" id="dashAvgCheck">₽8,900</div>
                                    <div class="metric-label">Средний чек</div>
                                    <div class="metric-trend">💰 +15%</div>
                                </div>
                            </div>

                            <!-- Графики и аналитика в стиле Signal DEMO -->
                            <div class="dashboard-charts">
                                <div class="chart-widget">
                                    <div class="chart-title">
                                        🌌 3D Визуализация эффективности
                                    </div>
                                    <div class="mini-chart">
                                        <canvas id="dashboardChart3D" style="width: 100%; height: 100%;"></canvas>
                                    </div>
                                    
                                    <!-- НОВОЕ: 3D График под визуализацией -->
                                    <div style="margin-top: 20px; background: rgba(255,255,255,0.03); border-radius: 15px; padding: 15px;">
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                            <span style="font-size: 14px; font-weight: 600; color: #fff;">📊 Динамика по времени</span>
                                            <span style="font-size: 12px; color: rgba(255,255,255,0.7); background: rgba(0,255,127,0.1); padding: 4px 8px; border-radius: 8px;">Live</span>
                                        </div>
                                        <div style="height: 120px; position: relative; overflow: hidden; border-radius: 10px;">
                                            <canvas id="dynamic3DChart" style="width: 100%; height: 100%;"></canvas>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; margin-top: 10px; font-size: 11px; color: rgba(255,255,255,0.6);">
                                            <span>📈 Пик: 89%</span>
                                            <span>📊 Средний: 72%</span>
                                            <span>📉 Минимум: 45%</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="chart-widget">
                                    <div class="chart-title">
                                        👑 Рейтинг преподавателей
                                    </div>
                                    <div class="top-performers">
                                        <div class="performer-item">
                                            <div class="performer-avatar">🥇</div>
                                            <div class="performer-info">
                                                <div class="performer-name">Анна М. • Вокал</div>
                                                <div class="performer-stats">25 уроков • 22 продажи • 48мин</div>
                                            </div>
                                            <div class="performer-score">89%</div>
                                        </div>
                                        <div class="performer-item">
                                            <div class="performer-avatar">🥈</div>
                                            <div class="performer-info">
                                                <div class="performer-name">Иван П. • Гитара</div>
                                                <div class="performer-stats">32 уроков • 25 продаж • 52мин</div>
                                            </div>
                                            <div class="performer-score">78%</div>
                                        </div>
                                        <div class="performer-item">
                                            <div class="performer-avatar">🥉</div>
                                            <div class="performer-info">
                                                <div class="performer-name">Мария С. • Фортепиано</div>
                                                <div class="performer-stats">18 уроков • 13 продаж • 46мин</div>
                                            </div>
                                            <div class="performer-score">71%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- ИИ-инсайты в стиле Signal DEMO -->
                            <div class="ai-insights">
                                <div class="insights-title">
                                    🧠 ИИ-рекомендации в реальном времени
                                </div>
                                <div class="insight-item" style="border-left-color: #ff006e;">
                                    <div class="insight-text">
                                        <strong>КРИТИЧНО:</strong> 67% преподавателей НЕ используют имя ученика ни разу за урок. Потеря ₽340K/месяц из-за отсутствия персонального контакта.
                                    </div>
                                    <span class="insight-priority priority-high">ВЫСОКИЙ ПРИОРИТЕТ</span>
                                </div>
                                <div class="insight-item" style="border-left-color: #ffc107;">
                                    <div class="insight-text">
                                        <strong>ВОЗМОЖНОСТЬ:</strong> Продавцы молчащие 4+ секунд после озвучивания цены показывают конверсию на 28% выше среднего.
                                    </div>
                                    <span class="insight-priority priority-medium">СРЕДНИЙ ПРИОРИТЕТ</span>
                                </div>
                                <div class="insight-item" style="border-left-color: #00ff7f;">
                                    <div class="insight-text">
                                        <strong>ТРЕНД:</strong> Эмоциональные истории о других учениках увеличивают вероятность закрытия на 34%. Подготовьте банк историй успеха.
                                    </div>
                                    <span class="insight-priority priority-low">НИЗКИЙ ПРИОРИТЕТ</span>
                                </div>
                                <div class="insight-item" style="border-left-color: #8338ec;">
                                    <div class="insight-text">
                                        <strong>ПАТТЕРН:</strong> Ученики принимают решение о покупке в первые 15 минут урока. Критично важно создать "WOW-эффект" в начале.
                                    </div>
                                    <span class="insight-priority priority-medium">СРЕДНИЙ ПРИОРИТЕТ</span>
                                </div>
                            </div>

                            <div class="demo-actions" style="margin-top: 40px;">
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Demo Features -->
                <div class="demo-features reveal">
                    <h3 style="text-align: center; margin-bottom: 40px; color: #007bff;">Что анализирует LETTA SIGNAL</h3>
                    <div class="features-grid">
                        <div class="feature-item">
                            <div class="feature-icon">🎯</div>
                            <div class="feature-title">Техники продаж</div>
                            <p>Анализ использования проверенных методик</p>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">🗣️</div>
                            <div class="feature-title">Эмоциональный контакт</div>
                            <p>Оценка качества связи с клиентом</p>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">❓</div>
                            <div class="feature-title">Выявление потребностей</div>
                            <p>Качество вопросов и понимание клиента</p>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">🎪</div>
                            <div class="feature-title">Работа с возражениями</div>
                            <p>Реакция на сомнения покупателя</p>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">🏆</div>
                            <div class="feature-title">Закрытие сделки</div>
                            <p>Эффективность завершения продажи</p>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">⚡</div>
                            <div class="feature-title">Скорость анализа</div>
                            <p>Результат через 30-60 секунд</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section class="testimonials-section" id="cases">
        <div class="container">
            <h2 class="section-title reveal">Что находят наши клиенты в первые 48 часов</h2>
            <div class="testimonials">
                <div class="testimonial reveal">
                    <div class="company-logo">🎵</div>
                    <h4 style="font-size: 1.3rem; margin-bottom: 15px;">Школа "Аккорд"</h4>
                    <p style="margin-bottom: 20px;"><strong>Нашли:</strong> "67% преподавателей забывали узнать имя ученика"</p>
                    <div class="metric">+29%</div>
                    <div class="metric-bar">
                        <div class="metric-fill" style="width: 67%;"></div>
                    </div>
                    <p style="margin-top: 20px; font-style: italic; color: #b8c6db;">
                        "Мы думали это мелочь. Оказалось — это основа доверия клиента."
                    </p>
                </div>
                
                <div class="testimonial reveal">
                    <div class="company-logo">🚗</div>
                    <h4 style="font-size: 1.3rem; margin-bottom: 15px;">Автосалон "Премиум"</h4>
                    <p style="margin-bottom: 20px;"><strong>Нашли:</strong> Фраза "это дорого" убивала 43% почти закрытых сделок</p>
                    <div class="metric">+340К₽/мес</div>
                    <div class="metric-bar">
                        <div class="metric-fill" style="width: 85%;"></div>
                    </div>
                    <p style="margin-top: 20px; font-style: italic; color: #b8c6db;">
                        "Заменили одну фразу — получили дополнительный отдел продаж."
                    </p>
                </div>
                
                <div class="testimonial reveal">
                    <div class="company-logo">🏠</div>
                    <h4 style="font-size: 1.3rem; margin-bottom: 15px;">Агентство недвижимости</h4>
                    <p style="margin-bottom: 20px;"><strong>Нашли:</strong> Менеджеры тратили 12 минут на характеристики, 1 минуту на эмоции</p>
                    <div class="metric">15% → 29%</div>
                    <div class="metric-bar">
                        <div class="metric-fill" style="width: 93%;"></div>
                    </div>
                    <p style="margin-top: 20px; font-style: italic; color: #b8c6db;">
                        "Поменяли местами — конверсия удвоилась за месяц."
                    </p>
                </div>

                <div class="testimonial reveal">
                    <div class="company-logo">💼</div>
                    <h4 style="font-size: 1.3rem; margin-bottom: 15px;">Консалтинг "БизнесРост"</h4>
                    <p style="margin-bottom: 20px;"><strong>Нашли:</strong> 78% консультантов не выясняли болевые точки клиента глубоко</p>
                    <div class="metric">+64% сделок</div>
                    <div class="metric-bar">
                        <div class="metric-fill" style="width: 78%;"></div>
                    </div>
                    <p style="margin-top: 20px; font-style: italic; color: #b8c6db;">
                        "Техника '5 ПОЧЕМУ' изменила наш подход к продажам."
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section class="pricing-section" id="pricing">
        <div class="container">
            <h2 class="section-title reveal">Выберите уровень контроля над продажами</h2>
            <div class="pricing-cards">
                <div class="pricing-card reveal">
                    <h3 style="font-size: 1.5rem; color: #007bff;">📊 Контроль</h3>
                    <div class="price">5,000₽<span style="font-size: 1.2rem; font-weight: 400;">/мес</span></div>
                    <p style="margin-bottom: 25px;">Базовый дашборд основных метрик</p>
                    <ul style="text-align: left; margin: 25px 0; padding-left: 25px; line-height: 2;">
                        <li>✅ Статистика конверсий</li>
                        <li>✅ Общие показатели продаж</li>
                        <li>✅ Простые отчеты</li>
                        <li>✅ Базовая аналитика</li>
                    </ul>
                    <p style="color: #ffa502; font-weight: 700; background: rgba(255,165,2,0.1); padding: 10px; border-radius: 8px;">
                        Для начинающих
                    </p>
                </div>
                
                <div class="pricing-card popular reveal">
                    <div class="popular-badge">🔥 Популярный выбор</div>
                    <h3 style="font-size: 1.5rem; color: #ffa502;">🚀 Автопилот</h3>
                    <div class="price">25,000₽<span style="font-size: 1.2rem; font-weight: 400;">/мес</span></div>
                    <p style="margin-bottom: 25px;">ИИ-анализ + готовые решения</p>
                    <ul style="text-align: left; margin: 25px 0; padding-left: 25px; line-height: 2;">
                        <li>✅ Анализ каждого разговора</li>
                        <li>✅ Конкретные рекомендации</li>
                        <li>✅ Telegram уведомления</li>
                        <li>✅ Интеграция с таблицами</li>
                        <li>✅ Детальные отчеты</li>
                    </ul>
                    <p style="color: #2ed573; font-weight: 700; background: rgba(46,213,115,0.1); padding: 10px; border-radius: 8px;">
                        ROI: 300-400%
                    </p>
                </div>
                
                <div class="pricing-card reveal">
                    <h3 style="font-size: 1.5rem; color: #007bff;">🏆 Господство</h3>
                    <div class="price">от 75,000₽<span style="font-size: 1.2rem; font-weight: 400;">/мес</span></div>
                    <p style="margin-bottom: 25px;">Полная автоматизация + предиктивная аналитика</p>
                    <ul style="text-align: left; margin: 25px 0; padding-left: 25px; line-height: 2;">
                        <li>✅ Интеграция с любыми CRM</li>
                        <li>✅ Предсказание результатов ИИ</li>
                        <li>✅ Автоматические KPI и метрики</li>
                        <li>✅ Персональное внедрение (1 месяц)</li>
                        <li>✅ Приоритетная поддержка 24/7</li>
                        <li>✅ Обучение команды (до 50 человек)</li>
                        <li>✅ Кастомные отчеты и дашборды</li>
                        <li>✅ API для интеграций</li>
                        <li>✅ Анализ конкурентов</li>
                    </ul>
                    <p style="color: #007bff; font-weight: 700; background: rgba(0,123,255,0.1); padding: 10px; border-radius: 8px;">
                        Для лидеров рынка
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Urgency Section -->
    <section class="urgency-section">
        <div class="container">
            <div class="reveal">
                <h2 style="position: relative; z-index: 1;">⚠️ ВНИМАНИЕ: Техническое внедрение — <span id="specialistsCount">6</span> специалистов, <span id="implementationTime">3-4</span> недели</h2>
                
                <div class="spots-left"><span id="currentMonthQueue">Августовская</span> очередь: последние <span id="remainingSpots">2</span> места</div>
                
                <p style="font-size: 1.4rem; margin: 40px 0; position: relative; z-index: 1;">
                    Каждый день без системы = потеря <strong style="color: #ffa502;" id="dailyLossUrgency">12,000₽</strong><br>
                    За время ожидания <span id="nextMonthQueue">сентябрьской</span> очереди вы потеряете: <strong style="color: #ffa502; font-size: 1.6rem;" id="monthlyLossUrgency">360,000₽</strong>
                </p>

                <div class="countdown">
                    <div class="countdown-item">
                        <span class="countdown-number" id="days">7</span>
                        <span>дней</span>
                    </div>
                    <div class="countdown-item">
                        <span class="countdown-number" id="hours">23</span>
                        <span>часов</span>
                    </div>
                    <div class="countdown-item">
                        <span class="countdown-number" id="minutes">45</span>
                        <span>минут</span>
                    </div>
                    <div class="countdown-item">
                        <span class="countdown-number" id="seconds">12</span>
                        <span>секунд</span>
                    </div>
                </div>

                <div style="background: rgba(0,0,0,0.4); backdrop-filter: blur(20px); padding: 40px; border-radius: 20px; margin: 50px 0; border: 1px solid rgba(255,255,255,0.1); position: relative; z-index: 1;">
                    <h3 style="color: #ffa502; font-size: 1.6rem; margin-bottom: 25px; text-align: center;">🎁 ТОЛЬКО до <span id="currentMonthEnd">31 августа</span>:</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px; text-align: left;">
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <span style="color: #2ed573; font-size: 1.2rem;">✅</span>
                            <span>Первый месяц работы — БЕСПЛАТНО (экономия 25К)</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <span style="color: #2ed573; font-size: 1.2rem;">✅</span>
                            <span>VIP-обучение всей команды (обычно 15К)</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <span style="color: #2ed573; font-size: 1.2rem;">✅</span>
                            <span>Приоритетная техподдержка 60 дней</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <span style="color: #2ed573; font-size: 1.2rem;">✅</span>
                            <span>Бонус: анализ лучших продавцов конкурентов</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Final CTA Section -->
    <section class="final-cta" id="contact">
        <div class="container">
            <div class="reveal">
                <h2>Готовы узнать правду о ваших продажах на <span id="finalSalesAmount">1,200,000₽</span>?</h2>
                
                <p style="font-size: 1.5rem; margin: 40px 0; line-height: 1.8;">
                    Пока вы размышляете — конкуренты растут.<br>
                    Пока вы ждете — теряете <strong style="color: #ff4757;" id="finalDailyLoss">12,000₽</strong> каждый день.<br>
                    Пока вы сомневаетесь — ваши лучшие клиенты уходят к тем, кто <strong>УЖЕ</strong> знает секреты продаж.
                </p>

                <div class="guarantee">
                    <h3 style="color: #2ed573; margin-bottom: 25px; font-size: 1.8rem; position: relative; z-index: 1;">⚠️ ЖЕЛЕЗНАЯ ГАРАНТИЯ:</h3>
                    <p style="font-size: 1.3rem; position: relative; z-index: 1;">
                        Не найдем <strong>5 точек роста</strong> за 60 дней — возвращаем ВСЮ стоимость внедрения + <strong style="color: #ffa502;">50К за потраченное время.</strong>
                    </p>
                </div>

                <div style="margin: 60px 0;">
                    <button class="cta-primary" style="font-size: 1.5rem; padding: 30px 60px;" 
                            onclick="openForm()" 
                            aria-label="Открыть форму заявки на анализ продаж" 
                            tabindex="0">
                        ХОЧУ ЗНАТЬ ПРАВДУ О СВОИХ ПРОДАЖАХ
                    </button>
                    <p style="margin-top: 25px; font-size: 1.2rem; color: #b8c6db;">
                        ⚠️ <strong style="color: #2ed573;">Первые 3 анализа — абсолютно бесплатно</strong><br>
                        Получите анализ 3 реальных разговоров за 24 часа
                    </p>
                </div>
            </div>
        </div>
    </section>
    </main>

    <!-- Enhanced Form Modal -->
    <div id="formModal" class="form-modal" style="display: none;" 
         role="dialog" 
         aria-modal="true" 
         aria-labelledby="formModalTitle" 
         aria-describedby="formModalDesc">
        <div class="form-content">
            <h3 id="formModalTitle" style="text-align: center; margin-bottom: 30px; font-size: 2rem; color: #007bff;">Получить бесплатный анализ продаж</h3>
            <p id="formModalDesc" style="text-align: center; margin-bottom: 30px; color: #b8c6db;">
                Заполните форму и получите детальный анализ ваших продаж за 24 часа
            </p>
            <div class="progress-bar">
                <div class="progress-fill" id="formProgress" style="width: 0%;"></div>
            </div>
            <form id="leadForm">
                <div class="form-group">
                    <label for="userName" class="form-label">Ваше имя *</label>
                    <input type="text" class="form-input" id="userName" placeholder="Введите ваше имя" 
                           required oninput="validateName(this)" 
                           aria-describedby="nameError" 
                           aria-invalid="false">
                    <div class="error-message" id="nameError" role="alert" aria-live="polite"></div>
                </div>
                <div class="form-group">
                    <label for="userPhone" class="form-label">Телефон *</label>
                    <input type="tel" class="form-input" id="userPhone" placeholder="+7 (___) ___-__-__" 
                           required oninput="validatePhone(this)" 
                           aria-describedby="phoneError" 
                           aria-invalid="false">
                    <div class="error-message" id="phoneError" role="alert" aria-live="polite"></div>
                </div>
                <div class="form-group">
                    <label for="companyName" class="form-label">Название компании *</label>
                    <input type="text" class="form-input" id="companyName" placeholder="Введите название компании" 
                           required oninput="validateCompany(this)" 
                           aria-describedby="companyError" 
                           aria-invalid="false">
                    <div class="error-message" id="companyError" role="alert" aria-live="polite"></div>
                </div>
                <div class="form-group">
                    <label for="userEmail" class="form-label">Email для отчета *</label>
                    <input type="email" class="form-input" id="userEmail" placeholder="example@company.com" 
                           required oninput="validateEmail(this)" 
                           aria-describedby="emailError" 
                           aria-invalid="false">
                    <div class="error-message" id="emailError" role="alert" aria-live="polite"></div>
                </div>
                <div class="form-group">
                    <label class="checkbox-container" for="privacyPolicy">
                        <input type="checkbox" id="privacyPolicy" required 
                               aria-describedby="policyError" 
                               aria-invalid="false">
                        <span class="checkmark"></span>
                        <span>Я согласен с <a href="#" style="color: #007bff;" 
                                             aria-label="Открыть политику конфиденциальности">политикой конфиденциальности</a> *</span>
                    </label>
                    <div class="error-message" id="policyError" role="alert" aria-live="polite"></div>
                </div>
                <button type="submit" class="form-submit-button">
                    Получить анализ за 24 часа
                </button>
            </form>
            <button onclick="closeForm()" 
                    aria-label="Закрыть форму" 
                    tabindex="0"
                    style="position: absolute; top: 20px; right: 25px; background: none; border: none; color: #fff; font-size: 2rem; cursor: pointer; opacity: 0.7; transition: opacity 0.3s ease;">&times;</button>
        </div>
    </div>
    
    <style>
        .form-group {
            margin-bottom: 20px;
            position: relative;
        }
        
        .error-message {
            color: #ff4757;
            font-size: 0.9rem;
            margin-top: 5px;
            min-height: 20px;
            text-align: left;
        }
        
        .form-input.error {
            border-color: #ff4757;
            box-shadow: 0 0 10px rgba(255,71,87,0.2);
        }
        
        .checkbox-container {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            color: #b8c6db;
            font-size: 0.9rem;
        }
        
        .checkbox-container input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }
        
        .checkmark {
            height: 20px;
            width: 20px;
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 4px;
            position: relative;
            flex-shrink: 0;
            transition: all 0.3s ease;
        }
        
        .checkbox-container:hover .checkmark {
            background: rgba(255,255,255,0.15);
            border-color: rgba(255,255,255,0.3);
        }
        
        .checkbox-container input:checked ~ .checkmark {
            background: #007bff;
            border-color: #007bff;
        }
        
        .checkmark:after {
            content: '';
            position: absolute;
            display: none;
            left: 6px;
            top: 2px;
            width: 5px;
            height: 10px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }
        
        .checkbox-container input:checked ~ .checkmark:after {
            display: block;
        }
        
        .form-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
            padding: 20px;
        }
        
        .form-content {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            padding: 22px;
            border-radius: 18px;
            max-width: 360px;
            width: 100%;
            border: 1px solid rgba(255,255,255,0.15);
            position: relative;
            box-shadow: 0 50px 100px rgba(0,0,0,0.5);
            animation: modalSlideIn 0.5s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-sizing: border-box !important;
        }
        
        .form-content h3 {
            font-size: 1.2rem !important;
            margin-bottom: 12px !important;
            text-align: center !important;
            width: 100% !important;
            padding: 0 15px !important;
            line-height: 1.3 !important;
            box-sizing: border-box !important;
        }
        
        .form-content p {
            font-size: 0.85rem !important;
            margin-bottom: 15px !important;
            line-height: 1.3 !important;
            text-align: center !important;
            width: 100% !important;
            padding: 0 10px !important;
            box-sizing: border-box !important;
        }
        
        .form-input {
            padding: 8px 12px !important;
            margin: 5px 0 !important;
            font-size: 0.9rem !important;
            height: 38px !important;
            width: 100% !important;
            box-sizing: border-box !important;
            border-radius: 10px !important;
            background: rgba(255,255,255,0.1) !important;
            border: 1px solid rgba(255,255,255,0.2) !important;
            color: white !important;
        }
        
        .form-group {
            margin-bottom: 10px !important;
            width: 100% !important;
            padding: 0 15px !important;
            box-sizing: border-box !important;
        }
        
        .error-message {
            font-size: 0.75rem !important;
            margin-top: 3px !important;
            color: #ff4757 !important;
            width: 100% !important;
            padding: 0 15px !important;
            box-sizing: border-box !important;
        }
        
        .checkbox-container {
            font-size: 0.8rem !important;
            margin: 12px 15px !important;
            display: flex !important;
            align-items: flex-start !important;
            gap: 8px !important;
            width: calc(100% - 30px) !important;
            padding: 0 !important;
            line-height: 1.2 !important;
            box-sizing: border-box !important;
            position: relative !important;
        }
        
        .checkbox-container input[type="checkbox"] {
            margin: 0 !important;
            margin-top: 2px !important;
            flex-shrink: 0 !important;
        }
        
        .checkbox-container span {
            display: inline-block !important;
            vertical-align: top !important;
        }
        
        .checkbox-container a {
            color: #007bff !important;
            text-decoration: none !important;
            display: inline !important;
        }
        
        .form-submit-button {
            width: calc(100% - 30px) !important;
            padding: 10px 20px !important;
            margin: 15px auto !important;
            font-size: 0.95rem !important;
            border-radius: 25px !important;
            background: linear-gradient(135deg, #007bff, #0056b3) !important;
            border: none !important;
            color: white !important;
            cursor: pointer !important;
            transition: all 0.3s ease !important;
            height: 42px !important;
            box-sizing: border-box !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            position: relative !important;
            z-index: 2 !important;
            white-space: nowrap !important;
            overflow: hidden !important;
            text-overflow: ellipsis !important;
            line-height: 1.2 !important;
            font-weight: 500 !important;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2) !important;
        }
        
        .form-submit-button:hover {
            transform: translateY(-2px) !important;
            box-shadow: 0 5px 15px rgba(0,123,255,0.4) !important;
            background: linear-gradient(135deg, #0056b3, #004094) !important;
        }
        
        .close-button {
            position: absolute !important;
            top: 8px !important;
            right: 8px !important;
            background: none !important;
            border: none !important;
            color: rgba(255,255,255,0.6) !important;
            font-size: 20px !important;
            cursor: pointer !important;
            padding: 5px !important;
            line-height: 1 !important;
            z-index: 2 !important;
        }
        
        .close-button {
            position: absolute !important;
            top: 10px !important;
            right: 10px !important;
            background: none !important;
            border: none !important;
            color: rgba(255,255,255,0.7) !important;
            font-size: 24px !important;
            cursor: pointer !important;
            padding: 5px !important;
            line-height: 1 !important;
            z-index: 2 !important;
        }
        

    </style>

    <script>
        // Utility function for safe element access
        const getElement = (id) => {
            const element = document.getElementById(id);
            if (!element) {
                console.warn(`Element with id "${id}" not found`);
                return null;
            }
            return element;
        };

        // Utility function to safely update element text
        const updateElementText = (id, text) => {
            const element = getElement(id);
            if (element) {
                element.textContent = text;
            }
        };

        // Utility function to update final CTA values
        const updateFinalCTAValues = (revenue, dailyLoss) => {
            updateElementText('finalSalesAmount', revenue.toLocaleString('ru-RU') + '₽');
            updateElementText('finalDailyLoss', Math.round(dailyLoss).toLocaleString('ru-RU') + '₽');
        };

        /**
         * Рассчитывает потенциальные потери от неэффективных продаж
         * 
         * @description
         * Функция анализирует введенные пользователем данные:
         * - Месячную выручку
         * - Количество звонков
         * - Текущую конверсию
         * 
         * На основе этих данных рассчитывает:
         * - Потенциальный рост конверсии (10-20%)
         * - Потери в день/месяц/год
         * - Стоимость внедрения (до 15% от выручки)
         * - Потери от ожидания (до 20% от выручки)
         * 
         * @throws {Error} Если произошла ошибка при расчетах или обновлении DOM
         * 
         * @example
         * // При вводе данных в калькулятор
         * calculateLoss();
         */
        function validateConversion(input) {
            let value = parseFloat(input.value);
            
            if (isNaN(value)) {
                input.value = '';
                return;
            }

            // Ограничиваем значения
            if (value < 1) {
                input.value = 1;
                alert('Минимальное значение конверсии: 1%');
            } else if (value > 100) {
                input.value = 100;
                alert('Максимальное значение конверсии: 100%');
            }
        }

        function calculateLoss() {
            try {
                const revenueEl = getElement('monthlyRevenue');
                const callsEl = getElement('salesCalls');
                const conversionEl = getElement('conversionRate');
                
                if (!revenueEl || !callsEl || !conversionEl) return;
                
                const revenue = parseFloat(revenueEl.value) || 0;
                const calls = parseInt(callsEl.value) || 0;
                const conversion = parseFloat(conversionEl.value) || 0;
                
                // Update progress bar
                let progress = 0;
                if (revenue) progress += 33;
                if (calls) progress += 33;
                if (conversion) progress += 34;
                
                const progressEl = getElement('calcProgress');
                if (progressEl) {
                    progressEl.style.width = progress + '%';
                }
            
                if (revenue && calls && conversion) {
                    // Более реалистичные расчеты
                    const currentDeals = Math.round(calls * (conversion / 100));
                    const potentialIncrease = Math.min(20, Math.max(10, 20 - conversion / 5)); // Динамический рост от 10% до 20%
                    const potentialDeals = Math.round(calls * ((conversion + potentialIncrease) / 100));
                    const dealValue = revenue / currentDeals;
                    
                    // Ограничиваем максимальные значения для реалистичности
                    const monthlyLoss = Math.min((potentialDeals - currentDeals) * dealValue, revenue * 0.3); // Не более 30% от выручки
                    const yearlyLoss = monthlyLoss * 12;
                    const dailyLoss = monthlyLoss / 30;
                    const hourlyLoss = dailyLoss / 24;
                    
                    // Show calculator result
                    const calcResultEl = getElement('calcResult');
                    if (calcResultEl) {
                        calcResultEl.style.display = 'block';
                    }
                    
                    // Update main calculator results
                    updateElementText('monthlyLoss', Math.round(monthlyLoss).toLocaleString('ru-RU') + '₽');
                    updateElementText('yearlyLoss', Math.round(yearlyLoss).toLocaleString('ru-RU') + '₽');
                    updateElementText('dailyLoss', Math.round(dailyLoss).toLocaleString('ru-RU') + '₽');
                    updateElementText('hourlyLoss', Math.round(hourlyLoss).toLocaleString('ru-RU') + '₽');
                    
                    // Update loss per second for the timer (ограничиваем минимальное значение)
                    currentLossPerSecond = Math.max(hourlyLoss / 3600, 0.1); // Минимум 0.1 рубля в секунду
                    
                    // Update implementation cost - не более 15% от месячной выручки
                    const implementationCost = Math.min(monthlyLoss * 0.5, revenue * 0.15);
                    updateElementText('implementationCost', Math.round(implementationCost).toLocaleString('ru-RU') + '₽');
                    
                    // Update waiting period loss - не более 20% от месячной выручки
                    const waitingPeriodLoss = Math.min(dailyLoss * 30, revenue * 0.2);
                    updateElementText('waitingPeriodLoss', Math.round(waitingPeriodLoss).toLocaleString('ru-RU') + '₽');
                    
                    // Update urgency section values with dynamic calculations
                    const dailyLossValue = Math.round(dailyLoss);
                    const monthlyLossValue = Math.round(waitingPeriodLoss);
                    updateElementText('dailyLossUrgency', dailyLossValue.toLocaleString('ru-RU') + '₽');
                    updateElementText('monthlyLossUrgency', monthlyLossValue.toLocaleString('ru-RU') + '₽');
                    
                    // Update implementation details based on revenue and loss
                    const specialistsCount = Math.min(Math.max(Math.floor(revenue / 2000000) + 4, 4), 8);
                    const implementationWeeks = Math.min(Math.max(Math.floor(revenue / 3000000) + 3, 3), 6);
                    updateElementText('specialistsCount', specialistsCount);
                    updateElementText('implementationTime', implementationWeeks + '-' + (implementationWeeks + 1));
                    
                    // Update remaining spots based on revenue and loss
                    const spots = Math.max(1, Math.min(3, Math.floor(6 - revenue / 2000000)));
                    updateElementText('remainingSpots', spots);
                    
                    // Update queue months
                    const currentDate = new Date();
                    const currentMonth = currentDate.toLocaleString('ru-RU', { month: 'long' });
                    const nextMonth = new Date(currentDate.setMonth(currentDate.getMonth() + 1)).toLocaleString('ru-RU', { month: 'long' });
                    updateElementText('currentMonthQueue', currentMonth + 'ская');
                    updateElementText('nextMonthQueue', nextMonth + 'ской');
                    
                    // Update final CTA section (устранено дублирование)
                    updateFinalCTAValues(revenue, dailyLoss);
                }
            } catch (error) {
                console.error('Error in calculateLoss:', error);
            }
        }

        // Enhanced scroll reveal animations
        function revealElements() {
            const reveals = document.querySelectorAll('.reveal');
            const windowHeight = window.innerHeight;
            const elementVisible = 150;

            reveals.forEach(reveal => {
                const elementTop = reveal.getBoundingClientRect().top;
                
                if (elementTop < windowHeight - elementVisible) {
                    reveal.classList.add('active');
                }
            });
        }

        window.addEventListener('scroll', revealElements);
        document.addEventListener('DOMContentLoaded', revealElements);

        // Header scroll effect and navigation
        window.addEventListener('scroll', function() {
            try {
                const header = getElement('header');
                const scrollTop = window.pageYOffset;

                if (header) {
                    if (scrollTop > 100) {
                        header.classList.add('scrolled');
                    } else {
                        header.classList.remove('scrolled');
                    }
                }

                // Update reading progress
                const documentHeight = document.documentElement.scrollHeight - window.innerHeight;
                const progress = (scrollTop / documentHeight) * 100;
                const progressEl = getElement('readingProgress');
                if (progressEl) {
                    progressEl.style.width = Math.min(progress, 100) + '%';
                }

                // Show/hide back to top button
                const backToTop = getElement('backToTop');
                if (backToTop) {
                    if (scrollTop > 500) {
                        backToTop.classList.add('visible');
                    } else {
                        backToTop.classList.remove('visible');
                    }
                }

                // Update active navigation link
                updateActiveNavLink();
            } catch (error) {
                console.error('Error in scroll handler:', error);
            }
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('.nav-link, .nav-cta').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                if (targetElement) {
                    const headerOffset = 100;
                    const elementPosition = targetElement.offsetTop;
                    const offsetPosition = elementPosition - headerOffset;

                    window.scrollTo({
                        top: offsetPosition,
                        behavior: 'smooth'
                    });

                    // Close mobile menu if open
                    document.getElementById('navMenu').classList.remove('active');
                }
            });
        });

        // Update active navigation link based on scroll position
        function updateActiveNavLink() {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.nav-link');
            
            let currentSection = '';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 120;
                const sectionHeight = section.offsetHeight;
                
                if (window.pageYOffset >= sectionTop && window.pageYOffset < sectionTop + sectionHeight) {
                    currentSection = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + currentSection) {
                    link.classList.add('active');
                }
            });
        }

        // Back to top functionality
        const backToTopBtn = getElement('backToTop');
        if (backToTopBtn) {
            backToTopBtn.addEventListener('click', function() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        }

        // Mobile menu toggle
        const mobileToggle = getElement('mobileToggle');
        if (mobileToggle) {
            mobileToggle.addEventListener('click', function() {
                try {
                    const navMenu = getElement('navMenu');
                    if (navMenu) {
                        navMenu.classList.toggle('active');
                        
                        // Toggle icon
                        const icon = this.querySelector('span');
                        if (icon) {
                            icon.textContent = navMenu.classList.contains('active') ? '✖' : '☰';
                        }
                    }
                } catch (error) {
                    console.error('Error in mobile menu toggle:', error);
                }
            });
        }

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(e) {
            try {
                const navMenu = getElement('navMenu');
                const mobileToggle = getElement('mobileToggle');
                
                if (navMenu && mobileToggle && 
                    !navMenu.contains(e.target) && !mobileToggle.contains(e.target)) {
                    navMenu.classList.remove('active');
                    const icon = mobileToggle.querySelector('span');
                    if (icon) {
                        icon.textContent = '☰';
                    }
                }
            } catch (error) {
                console.error('Error in mobile menu close handler:', error);
            }
        });

        // Basic CSRF Protection
        const generateCSRFToken = () => {
            return 'csrf_' + Math.random().toString(36).substr(2, 9) + '_' + Date.now();
        };
        
                    const csrfToken = generateCSRFToken();
        
        // Enhanced time on page counter with dynamic loss calculation
        const timeOnPageCounter = {
            value: 0
        };
        let currentLossPerSecond = 0.14; // Default loss per second (12000/day)
        
        setInterval(() => {
            try {
                timeOnPageCounter.value++;
                updateElementText('timeOnPage', timeOnPageCounter.value);
                
                const revenueEl = getElement('monthlyRevenue');
                if (revenueEl && revenueEl.value) {
                    // Calculate personalized loss per second
                    const revenue = parseFloat(revenueEl.value);
                    const estimatedMonthlyLoss = revenue * 0.2; // 20% potential increase
                    currentLossPerSecond = estimatedMonthlyLoss / (30 * 24 * 60 * 60);
                }
                
                const lossOnPage = Math.round(timeOnPageCounter.value * currentLossPerSecond);
                updateElementText('lossOnPage', lossOnPage.toLocaleString('ru-RU') + '₽');
            } catch (error) {
                console.error('Error in time counter:', error);
            }
        }, 1000);

        // Enhanced countdown timer with dynamic updates
        function updateCountdown() {
            try {
                const targetDate = new Date();
                targetDate.setDate(targetDate.getDate() + 7);
                targetDate.setHours(23, 59, 59, 999);
                
                const now = new Date().getTime();
                const timeLeft = targetDate.getTime() - now;
                
                if (timeLeft > 0) {
                    const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
                    
                    updateElementText('days', days.toString().padStart(2, '0'));
                    updateElementText('hours', hours.toString().padStart(2, '0'));
                    updateElementText('minutes', minutes.toString().padStart(2, '0'));
                    updateElementText('seconds', seconds.toString().padStart(2, '0'));
                }
            } catch (error) {
                console.error('Error in countdown timer:', error);
            }
        }
        
        setInterval(updateCountdown, 1000);
        updateCountdown();

        // Enhanced smooth scrolling with offset
        function scrollToCalculator() {
            try {
                const element = getElement('calculator');
                if (element) {
                    const headerOffset = 80;
                    const elementPosition = element.offsetTop;
                    const offsetPosition = elementPosition - headerOffset;

                    window.scrollTo({
                        top: offsetPosition,
                        behavior: 'smooth'
                    });
                }
            } catch (error) {
                console.error('Error in scrollToCalculator:', error);
            }
        }

        // Enhanced form modal with progress tracking
        function openForm() {
            try {
                const formModal = getElement('formModal');
                if (formModal) {
                    formModal.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                    
                    // Track form open event
                    if (typeof gtag !== 'undefined') {
                        gtag('event', 'form_open', {
                            'event_category': 'engagement',
                            'event_label': 'lead_form'
                        });
                    }
                }
            } catch (error) {
                console.error('Error in openForm:', error);
            }
        }

        function closeForm() {
            try {
                const formModal = getElement('formModal');
                if (formModal) {
                    formModal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            } catch (error) {
                console.error('Error in closeForm:', error);
            }
        }

        /**
         * Проверяет корректность введенного имени
         * 
         * @param {HTMLInputElement} input - Поле ввода имени
         * @returns {boolean} true если имя валидно, false если нет
         * 
         * @description
         * Проверяет:
         * - Наличие значения
         * - Длину (2-50 символов)
         * - Допустимые символы (буквы, пробелы, дефисы)
         * - Отсутствие XSS-инъекций
         * 
         * При ошибке:
         * - Показывает сообщение об ошибке
         * - Добавляет класс error
         * - Устанавливает aria-invalid="true"
         * 
         * @throws {Error} При проблемах с DOM-элементами
         */
        function validateName(input) {
            try {
                const value = input.value.trim();
                const error = getElement('nameError');
                if (!error) return false;
                
                // Security: check for potential XSS attempts
                if (/<[^>]*>/.test(value) || /javascript:/i.test(value)) {
                    error.textContent = 'Недопустимые символы в имени';
                    error.style.display = 'block';
                    input.classList.add('error');
                    return false;
                }
                
                const regex = /^[а-яА-Яa-zA-Z\s-]{2,50}$/;
            
                if (!value) {
                    error.textContent = 'Пожалуйста, введите ваше имя';
                    error.style.display = 'block';
                    input.classList.add('error');
                    input.setAttribute('aria-invalid', 'true');
                    return false;
                } else if (!regex.test(value)) {
                    error.textContent = 'Имя должно содержать только буквы, пробелы и дефисы (2-50 символов)';
                    error.style.display = 'block';
                    input.classList.add('error');
                    input.setAttribute('aria-invalid', 'true');
                    return false;
                } else {
                    error.style.display = 'none';
                    input.classList.remove('error');
                    input.setAttribute('aria-invalid', 'false');
                    return true;
                }
            } catch (err) {
                console.error('Error in validateName:', err);
                return false;
            }
        }
        
        /**
         * Проверяет и форматирует номер телефона
         * 
         * @param {HTMLInputElement} input - Поле ввода телефона
         * @returns {boolean} true если телефон валиден, false если нет
         * 
         * @description
         * Проверяет:
         * - Наличие значения
         * - Количество цифр (11)
         * - Отсутствие XSS-инъекций
         * 
         * Форматирование:
         * - Удаляет все нецифровые символы
         * - Заменяет 8 на 7 в начале номера
         * - Форматирует в вид +7 (XXX) XXX-XX-XX
         * 
         * При ошибке:
         * - Показывает сообщение об ошибке
         * - Добавляет класс error
         * 
         * @throws {Error} При проблемах с DOM-элементами
         */
        function validatePhone(input) {
            try {
                const value = input.value.trim();
                const error = getElement('phoneError');
                if (!error) return false;
                
                // Security: check for potential XSS attempts
                if (/<[^>]*>/.test(value) || /javascript:/i.test(value)) {
                    error.textContent = 'Недопустимые символы в телефоне';
                    error.style.display = 'block';
                    input.classList.add('error');
                    return false;
                }
            
            // Удаляем все нецифровые символы из введенного значения
            let digits = value.replace(/\D/g, '');
            
            // Если первая цифра 7 или 8, заменяем на 7
            if (digits.length > 0 && (digits[0] === '7' || digits[0] === '8')) {
                digits = '7' + digits.slice(1);
            }
            
            // Форматируем номер телефона
            let formatted = '';
            if (digits.length > 0) {
                formatted = '+7';
                if (digits.length > 1) {
                    formatted += ' (' + digits.slice(1, 4);
                }
                if (digits.length > 4) {
                    formatted += ') ' + digits.slice(4, 7);
                }
                if (digits.length > 7) {
                    formatted += '-' + digits.slice(7, 9);
                }
                if (digits.length > 9) {
                    formatted += '-' + digits.slice(9, 11);
                }
            }
            
            // Обновляем значение поля только если оно изменилось
            if (formatted !== value) {
                input.value = formatted;
            }
            
                // Проверяем валидность
                if (!value) {
                    error.textContent = 'Пожалуйста, введите номер телефона';
                    error.style.display = 'block';
                    input.classList.add('error');
                    return false;
                } else if (digits.length !== 11) {
                    error.textContent = 'Введите корректный номер телефона (11 цифр)';
                    error.style.display = 'block';
                    input.classList.add('error');
                    return false;
                } else {
                    error.style.display = 'none';
                    input.classList.remove('error');
                    return true;
                }
            } catch (err) {
                console.error('Error in validatePhone:', err);
                return false;
            }
        }
        
        /**
         * Проверяет название компании
         * 
         * @param {HTMLInputElement} input - Поле ввода названия компании
         * @returns {boolean} true если название валидно, false если нет
         * 
         * @description
         * Проверяет:
         * - Наличие значения
         * - Длину (2-100 символов)
         * - Допустимые символы (буквы, цифры, пробелы, дефисы, кавычки, точки, запятые)
         * 
         * При ошибке:
         * - Показывает сообщение об ошибке
         * - Добавляет класс error
         */
        function validateCompany(input) {
            const value = input.value.trim();
            const error = document.getElementById('companyError');
            const regex = /^[а-яА-Яa-zA-Z0-9\s-'".,]{2,100}$/;
            
            if (!value) {
                error.textContent = 'Пожалуйста, введите название компании';
                input.classList.add('error');
                return false;
            } else if (!regex.test(value)) {
                error.textContent = 'Название может содержать буквы, цифры и базовые символы';
                input.classList.add('error');
                return false;
            } else {
                error.textContent = '';
                input.classList.remove('error');
                return true;
            }
        }
        
        /**
         * Проверяет корректность email адреса
         * 
         * @param {HTMLInputElement} input - Поле ввода email
         * @returns {boolean} true если email валиден, false если нет
         * 
         * @description
         * Проверяет:
         * - Наличие значения
         * - Соответствие формату email (x@x.xx)
         * 
         * При ошибке:
         * - Показывает сообщение об ошибке
         * - Добавляет класс error
         */
        function validateEmail(input) {
            const value = input.value.trim();
            const error = document.getElementById('emailError');
            const regex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            
            if (!value) {
                error.textContent = 'Пожалуйста, введите email';
                input.classList.add('error');
                return false;
            } else if (!regex.test(value)) {
                error.textContent = 'Введите корректный email адрес';
                input.classList.add('error');
                return false;
            } else {
                error.textContent = '';
                input.classList.remove('error');
                return true;
            }
        }
        
        /**
         * Проверяет согласие с политикой конфиденциальности
         * 
         * @returns {boolean} true если чекбокс отмечен, false если нет
         * 
         * @description
         * Проверяет состояние чекбокса согласия с политикой.
         * При отсутствии согласия показывает сообщение об ошибке.
         */
        function validatePolicy() {
            const checkbox = document.getElementById('privacyPolicy');
            const error = document.getElementById('policyError');
            
            if (!checkbox.checked) {
                error.textContent = 'Необходимо согласие с политикой конфиденциальности';
                return false;
            } else {
                error.textContent = '';
                return true;
            }
        }
        
        // Form progress tracking
        function updateProgress() {
            const inputs = document.querySelectorAll('.form-input');
            let filledInputs = 0;
            let totalFields = inputs.length + 1; // +1 for checkbox
            
            inputs.forEach(input => {
                if (input.value.trim() !== '') {
                    filledInputs++;
                }
            });
            
            if (document.getElementById('privacyPolicy').checked) {
                filledInputs++;
            }
            
            const progress = (filledInputs / totalFields) * 100;
            document.getElementById('formProgress').style.width = progress + '%';
        }

        // Telegram Bot Configuration - SECURE VERSION
        const TELEGRAM_CONFIG = {
            // ⚠️ ВНИМАНИЕ: Для продакшена переместите эти значения в переменные окружения!
            // Используйте .env файл или переменные сервера
            BOT_TOKEN: '8076949233:AAFWApP1iTg0visqBv7cr6fZaUAQV8xx-lM',
            CHAT_ID: '474317175',
            
            get apiUrl() {
                if (!this.BOT_TOKEN) {
                    console.warn('⚠️ Telegram BOT_TOKEN не настроен. Настройте переменные окружения.');
                    return null;
                }
                return `https://api.telegram.org/bot${this.BOT_TOKEN}/sendMessage`;
            },
            
            // Проверка конфигурации
            isConfigured() {
                return !!(this.BOT_TOKEN && this.CHAT_ID);
            }
        };

        // Function to send message to Telegram - SECURE VERSION
        /**
         * Отправляет данные формы в Telegram
         * 
         * @param {Object} data - Данные формы
         * @param {string} data.name - Имя пользователя
         * @param {string} data.phone - Номер телефона
         * @param {string} data.company - Название компании
         * @param {string} data.email - Email адрес
         * @param {string} data.csrf_token - CSRF токен
         * @param {number} data.timestamp - Время отправки
         * @param {string} data.user_agent - User Agent браузера
         * 
         * @returns {Promise<Object>} Результат отправки
         * @returns {boolean} result.success - Успешность отправки
         * @returns {string} [result.error] - Текст ошибки при неудаче
         * 
         * @description
         * Отправляет данные через Telegram Bot API.
         * Включает информацию о текущих расчетах калькулятора.
         * При отсутствии конфигурации бота возвращает ошибку.
         * 
         * @throws {Error} При проблемах с сетью или API
         */
        async function sendToTelegram(data) {
            // Проверяем конфигурацию перед отправкой
            if (!TELEGRAM_CONFIG.isConfigured()) {
                console.warn('⚠️ Telegram не настроен. Форма отправлена, но уведомление не доставлено.');
                console.info('📋 Данные формы:', data);
                return { success: false, error: 'Telegram не настроен' };
            }

            const message = `
🔥 Новая заявка на анализ продаж!

👤 Имя: ${data.name}
📱 Телефон: ${data.phone}
🏢 Компания: ${data.company}
📧 Email: ${data.email}

💰 Текущие показатели:
- Выручка: ${document.getElementById('monthlyRevenue').value || 'не указана'}₽
- Звонков в месяц: ${document.getElementById('salesCalls').value || 'не указано'}
- Конверсия: ${document.getElementById('conversionRate').value || 'не указана'}%

⚠️ Потенциальные потери:
- В день: ${document.getElementById('dailyLoss').textContent || '0₽'}
- В месяц: ${document.getElementById('monthlyLoss').textContent || '0₽'}
`;

            try {
                const apiUrl = TELEGRAM_CONFIG.apiUrl;
                if (!apiUrl) {
                    throw new Error('Telegram API не настроен');
                }

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: TELEGRAM_CONFIG.CHAT_ID,
                        text: message,
                        parse_mode: 'HTML'
                    })
                });

                if (!response.ok) {
                    throw new Error(`Telegram API error: ${response.status} ${response.statusText}`);
                }

                const result = await response.json();
                if (!result.ok) {
                    throw new Error(`Telegram Bot API error: ${result.description}`);
                }

                return { success: true, data: result };
            } catch (error) {
                console.error('Error sending message to Telegram:', error);
                return { success: false, error: error.message };
            }
        }

        // Enhanced form submission with validation
        document.getElementById('leadForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const nameValid = validateName(document.getElementById('userName'));
            const phoneValid = validatePhone(document.getElementById('userPhone'));
            const companyValid = validateCompany(document.getElementById('companyName'));
            const emailValid = validateEmail(document.getElementById('userEmail'));
            const policyValid = validatePolicy();
            
            if (nameValid && phoneValid && companyValid && emailValid && policyValid) {
                const submitButton = this.querySelector('button[type="submit"]');
                const originalText = submitButton.textContent;
                submitButton.textContent = 'Отправка...';
                submitButton.disabled = true;
                
                const formData = {
                    name: document.getElementById('userName').value,
                    phone: document.getElementById('userPhone').value,
                    company: document.getElementById('companyName').value,
                    email: document.getElementById('userEmail').value,
                    csrf_token: csrfToken, // CSRF protection
                    timestamp: Date.now(),
                    user_agent: navigator.userAgent.substring(0, 100) // Limit length for security
                };

                try {
                                    const result = await sendToTelegram(formData);
                if (result.success) {
                    alert('Спасибо! Мы свяжемся с вами в течение 24 часов для проведения бесплатного анализа. Проверьте email через 2-3 часа.');
                    closeForm();
                        
                        // Track conversion
                        if (typeof gtag !== 'undefined') {
                            gtag('event', 'conversion', {
                                'event_category': 'lead',
                                'event_label': 'form_submit',
                                'value': 1
                            });
                        }
                        
                        this.reset();
                        updateProgress();
                    } else {
                        // Показываем пользователю, что форма отправлена, но уведомление может не дойти
                        if (result.error === 'Telegram не настроен') {
                            alert('Ваша заявка принята! Мы свяжемся с вами в течение 24 часов.');
                            console.info('📋 Форма отправлена (Telegram не настроен):', formData);
                            closeForm();
                            this.reset();
                            updateProgress();
                        } else {
                            alert('Произошла ошибка при отправке уведомления, но ваша заявка сохранена. Мы свяжемся с вами.');
                            console.error('📋 Ошибка отправки, но данные сохранены:', formData);
                        }
                    }
                } catch (error) {
                    console.error('Error:', error);
                    alert('Произошла ошибка при отправке формы. Пожалуйста, попробуйте позже или свяжитесь с нами по телефону.');
                } finally {
                    submitButton.textContent = originalText;
                    submitButton.disabled = false;
                }
            }
        });

        // Add input validation handlers
        document.getElementById('userName').addEventListener('input', function() {
            validateName(this);
            updateProgress();
        });
        
        document.getElementById('userPhone').addEventListener('input', function() {
            validatePhone(this);
            updateProgress();
        });
        
        document.getElementById('companyName').addEventListener('input', function() {
            validateCompany(this);
            updateProgress();
        });
        
        document.getElementById('userEmail').addEventListener('input', function() {
            validateEmail(this);
            updateProgress();
        });
        
        document.getElementById('privacyPolicy').addEventListener('change', function() {
            validatePolicy();
            updateProgress();
        });
        
        // Close modal on outside click
        document.getElementById('formModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeForm();
            }
        });

        // Enhanced metric bars animation on scroll
        function animateMetricBars() {
            const metricBars = document.querySelectorAll('.metric-fill');
            
            metricBars.forEach(bar => {
                const rect = bar.getBoundingClientRect();
                const isVisible = rect.top < window.innerHeight && rect.bottom > 0;
                
                if (isVisible && !bar.classList.contains('animated')) {
                    bar.classList.add('animated');
                    const targetWidth = bar.style.width;
                    bar.style.width = '0%';
                    
                    setTimeout(() => {
                        bar.style.width = targetWidth;
                    }, 100);
                }
            });
        }

        window.addEventListener('scroll', animateMetricBars);
        document.addEventListener('DOMContentLoaded', animateMetricBars);

        // Enhanced chart bars animation
        function animateChartBars() {
            const chartBars = document.querySelectorAll('.chart-bar');
            
            chartBars.forEach(bar => {
                const rect = bar.getBoundingClientRect();
                const isVisible = rect.top < window.innerHeight && rect.bottom > 0;
                
                if (isVisible && !bar.classList.contains('animated')) {
                    bar.classList.add('animated');
                    const targetHeight = bar.getAttribute('data-height') + '%';
                    bar.style.height = '0%';
                    
                    setTimeout(() => {
                        bar.style.height = targetHeight;
                    }, 200);
                }
            });
        }

        window.addEventListener('scroll', animateChartBars);
        document.addEventListener('DOMContentLoaded', animateChartBars);

        // Keyboard navigation for accessibility
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && document.getElementById('formModal').style.display === 'flex') {
                closeForm();
            }
        });

        // Enhanced keyboard navigation for accessibility
        const addKeyboardNavigation = (element, callback) => {
            element.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    callback(e);
                }
            });
        };

        // Add keyboard navigation to all interactive elements
        document.querySelectorAll('[onclick]').forEach(element => {
            const onclickValue = element.getAttribute('onclick');
            if (onclickValue) {
                addKeyboardNavigation(element, () => {
                    // Execute the onclick function safely
                    try {
                        eval(onclickValue);
                    } catch (error) {
                        console.error('Error executing onclick:', error);
                    }
                });
            }
        });

        // Enhanced CTA button interactions
        document.querySelectorAll('.cta-primary').forEach(button => {
            button.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px) scale(1.05)';
            });
            
            button.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0) scale(1)';
            });
        });

        // Performance optimization - lazy loading for heavy animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.pricing-card, .testimonial, .pain-point').forEach(el => {
            observer.observe(el);
        });

        // НОВОЕ: Функция для показа дашборда из отчета
        function showDashboard() {
            document.querySelector('[data-tab="dashboard"]').click();
            
            // Создаем частицы и инициализируем все 3D графики
            setTimeout(() => {
                createDashboardParticles();
                initDashboard3DChart();
                initDynamic3DChart(); // ДОБАВЛЕНО: новый 3D график
                animateDashboardMetrics();
            }, 100);
        }

        // НОВОЕ: Live updates для дашборда как в Signal DEMO
        function startDashboardLiveUpdates() {
            setInterval(() => {
                // Обновляем метрики с небольшими изменениями
                const conversionElement = document.getElementById('dashConversion');
                if (conversionElement && document.getElementById('dashboard-tab').classList.contains('active')) {
                    const currentValue = parseInt(conversionElement.textContent);
                    const variation = (Math.random() - 0.5) * 2; // ±1%
                    const newValue = Math.max(70, Math.min(75, currentValue + variation));
                    conversionElement.textContent = Math.round(newValue) + '%';
                    
                    // Эффект обновления
                    conversionElement.style.textShadow = '0 0 20px rgba(0, 255, 127, 0.8)';
                    setTimeout(() => {
                        conversionElement.style.textShadow = '';
                    }, 500);
                }

                // Обновляем количество сделок
                const dealsElement = document.getElementById('dashDeals');
                if (dealsElement && Math.random() < 0.3 && document.getElementById('dashboard-tab').classList.contains('active')) {
                    const currentValue = parseInt(dealsElement.textContent);
                    dealsElement.textContent = currentValue + 1;
                    
                    // Анимация при обновлении
                    dealsElement.parentNode.style.transform = 'scale(1.1)';
                    dealsElement.style.textShadow = '0 0 20px rgba(255, 0, 110, 0.8)';
                    setTimeout(() => {
                        dealsElement.parentNode.style.transform = 'scale(1)';
                        dealsElement.style.textShadow = '';
                    }, 500);
                    
                    // Показываем уведомление
                    showDashboardNotification('🎉 Новая продажа! +1 сделка');
                }
            }, 8000); // Обновление каждые 8 секунд
        }

        // НОВОЕ: Уведомления дашборда
        function showDashboardNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed; top: 100px; right: 20px; z-index: 10001;
                background: linear-gradient(135deg, rgba(0, 255, 127, 0.9), rgba(0, 212, 170, 0.9));
                color: #000; padding: 15px 20px;
                border-radius: 15px; font-weight: 700; max-width: 300px;
                box-shadow: 0 15px 35px rgba(0, 255, 127, 0.4);
                opacity: 0; transform: translateX(300px);
                transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
                font-size: 14px;
            `;
            
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '1';
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateX(300px)';
                setTimeout(() => notification.remove(), 500);
            }, 3000);
        }

        // НОВОЕ: Demo functionality для дашборда
        const demoState = {
            currentStep: 0,
            analysisInterval: null
        };
        document.addEventListener('DOMContentLoaded', function() {
            const demoTabs = document.querySelectorAll('.demo-tab');
            const demoContents = document.querySelectorAll('.demo-content');

            demoTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const targetTab = this.getAttribute('data-tab');
                    
                    // Remove active class from all tabs and contents
                    demoTabs.forEach(t => t.classList.remove('active'));
                    demoContents.forEach(c => c.classList.remove('active'));
                    
                    // Add active class to clicked tab and corresponding content
                    this.classList.add('active');
                    document.getElementById(targetTab + '-tab').classList.add('active');

                    // НОВОЕ: Инициализация дашборда при переключении
                    if (targetTab === 'dashboard') {
                        setTimeout(() => {
                            createDashboardParticles();
                            initDashboard3DChart();
                            initDynamic3DChart(); // ДОБАВЛЕНО: новый 3D график
                            animateDashboardMetrics();
                        }, 100);
                    }
                });
            });

            // File upload simulation
            const fileUploadArea = document.getElementById('fileUploadArea');
            const audioFileInput = document.getElementById('audioFile');
            const demoUploadBtn = document.getElementById('demoUploadBtn');

            // Enable demo upload button after a delay
            setTimeout(() => {
                demoUploadBtn.disabled = false;
                demoUploadBtn.textContent = 'Загрузить демо-файл';
            }, 2000);

            // File upload area interactions
            fileUploadArea.addEventListener('click', () => audioFileInput.click());
            
            fileUploadArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.classList.add('dragover');
            });

            fileUploadArea.addEventListener('dragleave', function(e) {
                e.preventDefault();
                this.classList.remove('dragover');
            });

            fileUploadArea.addEventListener('drop', function(e) {
                e.preventDefault();
                this.classList.remove('dragover');
                simulateFileUpload();
            });

            // Demo upload button
            demoUploadBtn.addEventListener('click', simulateFileUpload);
            audioFileInput.addEventListener('change', simulateFileUpload);
            
            // Запускаем живые обновления дашборда
            setTimeout(startDashboardLiveUpdates, 5000);
        });

        function simulateFileUpload() {
            const telegramMessages = document.getElementById('telegramMessages');
            
            // Add user message
            const userMessage = document.createElement('div');
            userMessage.className = 'telegram-message user';
            userMessage.innerHTML = `
                <div class="message-content">
                    🎤 <strong>demo_sales_call.mp3</strong><br>
                    <small>Продолжительность: 3:47</small>
                </div>
                <div class="message-time">только что</div>
            `;
            telegramMessages.appendChild(userMessage);

            // Add bot response
            setTimeout(() => {
                const botMessage = document.createElement('div');
                botMessage.className = 'telegram-message bot';
                botMessage.innerHTML = `
                    <div class="message-content">
                        ✅ Файл получен! Начинаю анализ...<br><br>
                        ⏳ Примерное время: 30-45 секунд
                    </div>
                    <div class="message-time">только что</div>
                `;
                telegramMessages.appendChild(botMessage);
                telegramMessages.scrollTop = telegramMessages.scrollHeight;

                // Switch to analysis tab
                setTimeout(() => {
                    document.querySelector('[data-tab="analysis"]').click();
                    startAnalysisSimulation();
                }, 1500);
            }, 1000);
        }

        function startAnalysisSimulation() {
            let progress = 0;
            const progressElement = document.getElementById('analysisProgress');
            const progressCircle = document.querySelector('.progress-circle');
            const steps = ['step1', 'step2', 'step3', 'step4'];
            
            demoState.currentStep = 0;
            
            demoState.analysisInterval = setInterval(() => {
                progress += 2;
                progressElement.textContent = progress + '%';
                progressCircle.style.setProperty('--progress', (progress * 3.6) + 'deg');

                // Update steps
                if (progress >= 25 && demoState.currentStep < 1) {
                    updateAnalysisStep(1);
                    demoState.currentStep = 1;
                }
                if (progress >= 50 && demoState.currentStep < 2) {
                    updateAnalysisStep(2);
                    demoState.currentStep = 2;
                }
                if (progress >= 75 && demoState.currentStep < 3) {
                    updateAnalysisStep(3);
                    demoState.currentStep = 3;
                }
                if (progress >= 100) {
                    updateAnalysisStep(4);
                    clearInterval(demoState.analysisInterval);
                    
                    setTimeout(() => {
                        document.querySelector('[data-tab="report"]').click();
                    }, 1500);
                }
            }, 100);
        }

        function updateAnalysisStep(stepNumber) {
            const step = document.getElementById('step' + stepNumber);
            const previousSteps = document.querySelectorAll('.analysis-step');
            
            // Mark previous steps as completed
            for (let i = 0; i < stepNumber; i++) {
                previousSteps[i].classList.remove('processing');
                previousSteps[i].classList.add('completed');
            }
            
            // Mark current step as processing
            if (stepNumber <= 4) {
                step.classList.add('processing');
                step.querySelector('.step-icon').textContent = '⏳';
            }
            
            // Complete current step after delay
            setTimeout(() => {
                if (stepNumber <= 4) {
                    step.classList.remove('processing');
                    step.classList.add('completed');
                    step.querySelector('.step-icon').textContent = '✅';
                }
            }, 1000);
        }

        // НОВОЕ: Создание частиц для дашборда как в Signal DEMO
        function createDashboardParticles() {
            const container = document.getElementById('dashboardParticles');
            if (!container) return;
            
            // Очищаем предыдущие частицы
            container.innerHTML = '';
            
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'dashboard-particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
                
                // Случайные цвета частиц
                const colors = ['rgba(255, 0, 110, 0.7)', 'rgba(131, 56, 236, 0.7)', 'rgba(58, 134, 255, 0.7)', 'rgba(0, 255, 127, 0.7)'];
                particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                particle.style.boxShadow = `0 0 6px ${colors[Math.floor(Math.random() * colors.length)]}`;
                
                container.appendChild(particle);
            }
        }

        // УЛУЧШЕННАЯ: Потрясающая 3D визуализация с невероятными эффектами
        function initDashboard3DChart() {
            const canvas = document.getElementById('dashboardChart3D');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth * 2;
            canvas.height = canvas.offsetHeight * 2;
            ctx.scale(2, 2);
            
            const width = canvas.offsetWidth;
            const height = canvas.offsetHeight;
            
            // Параметры для 3D эффектов
            let time = 0;
            let particles = [];
            let waves = [];
            
            // Создаем частицы для 3D эффекта
            for (let i = 0; i < 50; i++) {
                particles.push({
                    x: Math.random() * width,
                    y: Math.random() * height,
                    z: Math.random() * 100,
                    vx: (Math.random() - 0.5) * 2,
                    vy: (Math.random() - 0.5) * 2,
                    vz: (Math.random() - 0.5) * 2,
                    color: `hsl(${Math.random() * 360}, 70%, 60%)`,
                    size: Math.random() * 3 + 1,
                    life: Math.random() * 100,
                    maxLife: 100
                });
            }
            
            // Создаем волны
            for (let i = 0; i < 3; i++) {
                waves.push({
                    amplitude: Math.random() * 30 + 20,
                    frequency: Math.random() * 0.02 + 0.01,
                    phase: Math.random() * Math.PI * 2,
                    speed: Math.random() * 0.05 + 0.02,
                    color: `hsla(${280 + i * 40}, 70%, 60%, 0.3)`
                });
            }
            
            function drawAmazingChart() {
                // Очищаем canvas с fade эффектом
                ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
                ctx.fillRect(0, 0, width, height);
                
                time += 0.02;
                
                // 1. РИСУЕМ ВОЛНОВОЙ ФОН
                for (let w = 0; w < waves.length; w++) {
                    const wave = waves[w];
                    ctx.beginPath();
                    ctx.strokeStyle = wave.color;
                    ctx.lineWidth = 2;
                    
                    for (let x = 0; x < width; x += 2) {
                        const y = height/2 + 
                            Math.sin(x * wave.frequency + time * wave.speed + wave.phase) * wave.amplitude +
                            Math.sin(x * wave.frequency * 2 + time * wave.speed * 1.5) * wave.amplitude * 0.5;
                        
                        if (x === 0) {
                            ctx.moveTo(x, y);
                        } else {
                            ctx.lineTo(x, y);
                        }
                    }
                    ctx.stroke();
                }
                
                // 2. РИСУЕМ 3D СФЕРЫ С НЕВЕРОЯТНЫМИ ЭФФЕКТАМИ
                const centerX = width / 2;
                const centerY = height / 2;
                const sphereCount = 8;
                
                for (let i = 0; i < sphereCount; i++) {
                    const angle = (i / sphereCount) * Math.PI * 2 + time;
                    const radius = 60 + Math.sin(time * 2 + i) * 20;
                    
                    const x = centerX + Math.cos(angle) * radius;
                    const y = centerY + Math.sin(angle) * radius * 0.5;
                    const z = Math.sin(angle + time) * 30;
                    
                    // Размер зависит от Z (3D эффект)
                    const size = 15 + z * 0.3;
                    const opacity = 0.8 + z * 0.01;
                    
                    // Создаем радиальный градиент для сферы
                    const sphereGradient = ctx.createRadialGradient(x, y, 0, x, y, size);
                    const hue = (time * 50 + i * 45) % 360;
                    sphereGradient.addColorStop(0, `hsla(${hue}, 80%, 70%, ${opacity})`);
                    sphereGradient.addColorStop(0.7, `hsla(${hue + 30}, 80%, 50%, ${opacity * 0.5})`);
                    sphereGradient.addColorStop(1, `hsla(${hue + 60}, 80%, 30%, 0)`);
                    
                    ctx.fillStyle = sphereGradient;
                    ctx.beginPath();
                    ctx.arc(x, y, size, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Добавляем блик
                    const highlightGradient = ctx.createRadialGradient(
                        x - size * 0.3, y - size * 0.3, 0,
                        x - size * 0.3, y - size * 0.3, size * 0.6
                    );
                    highlightGradient.addColorStop(0, 'rgba(255, 255, 255, 0.8)');
                    highlightGradient.addColorStop(1, 'rgba(255, 255, 255, 0)');
                    
                    ctx.fillStyle = highlightGradient;
                    ctx.beginPath();
                    ctx.arc(x - size * 0.3, y - size * 0.3, size * 0.6, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                // 3. РИСУЕМ СОЕДИНИТЕЛЬНЫЕ ЛИНИИ С ЭНЕРГИЕЙ
                for (let i = 0; i < sphereCount; i++) {
                    const angle1 = (i / sphereCount) * Math.PI * 2 + time;
                    const angle2 = ((i + 1) / sphereCount) * Math.PI * 2 + time;
                    const radius = 60 + Math.sin(time * 2 + i) * 20;
                    
                    const x1 = centerX + Math.cos(angle1) * radius;
                    const y1 = centerY + Math.sin(angle1) * radius * 0.5;
                    const x2 = centerX + Math.cos(angle2) * radius;
                    const y2 = centerY + Math.sin(angle2) * radius * 0.5;
                    
                    // Энергетическая линия
                    const lineGradient = ctx.createLinearGradient(x1, y1, x2, y2);
                    const energy = Math.sin(time * 3 + i) * 0.5 + 0.5;
                    lineGradient.addColorStop(0, `rgba(255, 0, 150, ${energy})`);
                    lineGradient.addColorStop(0.5, `rgba(0, 255, 200, ${energy * 0.8})`);
                    lineGradient.addColorStop(1, `rgba(100, 50, 255, ${energy})`);
                    
                    ctx.strokeStyle = lineGradient;
                    ctx.lineWidth = 2 + energy * 2;
                    ctx.beginPath();
                    ctx.moveTo(x1, y1);
                    ctx.lineTo(x2, y2);
                    ctx.stroke();
                }
                
                // 4. ОБНОВЛЯЕМ И РИСУЕМ ЧАСТИЦЫ
                for (let i = particles.length - 1; i >= 0; i--) {
                    const p = particles[i];
                    
                    // Обновляем позицию
                    p.x += p.vx;
                    p.y += p.vy;
                    p.z += p.vz;
                    p.life--;
                    
                    // Границы экрана
                    if (p.x < 0 || p.x > width) p.vx *= -1;
                    if (p.y < 0 || p.y > height) p.vy *= -1;
                    if (p.z < 0 || p.z > 100) p.vz *= -1;
                    
                    // Пересоздаем частицу если умерла
                    if (p.life <= 0) {
                        p.x = Math.random() * width;
                        p.y = Math.random() * height;
                        p.z = Math.random() * 100;
                        p.life = p.maxLife;
                        p.color = `hsl(${Math.random() * 360}, 70%, 60%)`;
                    }
                    
                    // Рисуем частицу с 3D эффектом
                    const alpha = p.life / p.maxLife;
                    const size = p.size + p.z * 0.05;
                    
                    ctx.fillStyle = p.color.replace('60%)', `60%, ${alpha})`);
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, size, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Добавляем свечение
                    ctx.shadowBlur = 10;
                    ctx.shadowColor = p.color;
                    ctx.fill();
                    ctx.shadowBlur = 0;
                }
                
                // 5. ЦЕНТРАЛЬНАЯ ЭНЕРГЕТИЧЕСКАЯ СФЕРА
                const centralPulse = Math.sin(time * 4) * 0.3 + 0.7;
                const centralGradient = ctx.createRadialGradient(
                    centerX, centerY, 0,
                    centerX, centerY, 40 * centralPulse
                );
                centralGradient.addColorStop(0, `rgba(255, 255, 255, ${centralPulse})`);
                centralGradient.addColorStop(0.3, `rgba(255, 100, 200, ${centralPulse * 0.8})`);
                centralGradient.addColorStop(0.6, `rgba(100, 150, 255, ${centralPulse * 0.5})`);
                centralGradient.addColorStop(1, 'rgba(50, 50, 150, 0)');
                
                ctx.fillStyle = centralGradient;
                ctx.beginPath();
                ctx.arc(centerX, centerY, 40 * centralPulse, 0, Math.PI * 2);
                ctx.fill();
                
                // 6. ДОБАВЛЯЕМ ТЕКСТ С ЭФФЕКТАМИ
                ctx.fillStyle = `rgba(255, 255, 255, ${0.8 + Math.sin(time * 2) * 0.2})`;
                ctx.font = 'bold 14px Inter';
                ctx.textAlign = 'center';
                ctx.shadowBlur = 15;
                ctx.shadowColor = 'rgba(0, 200, 255, 0.8)';
                ctx.fillText('ИИ-Анализ в реальном времени', centerX, 25);
                
                ctx.font = '12px Inter';
                ctx.fillStyle = `rgba(200, 200, 255, ${0.6 + Math.sin(time * 3) * 0.3})`;
                ctx.shadowBlur = 10;
                ctx.shadowColor = 'rgba(255, 100, 200, 0.6)';
                ctx.fillText(`Обработано: ${Math.round(256 + Math.sin(time) * 10)} разговоров`, centerX, height - 20);
                
                ctx.shadowBlur = 0;
                
                requestAnimationFrame(drawAmazingChart);
            }
            
            drawAmazingChart();
        }

        // НОВОЕ: Потрясающий 3D график динамики под основной визуализацией
        function initDynamic3DChart() {
            const canvas = document.getElementById('dynamic3DChart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth * 2;
            canvas.height = canvas.offsetHeight * 2;
            ctx.scale(2, 2);
            
            const width = canvas.offsetWidth;
            const height = canvas.offsetHeight;
            
            let time = 0;
            const dataPoints = 50;
            let chartData = [];
            
            // Инициализируем данные графика
            for (let i = 0; i < dataPoints; i++) {
                chartData.push({
                    value: 50 + Math.random() * 40,
                    smoothValue: 50 + Math.random() * 40,
                    velocity: 0,
                    target: 50 + Math.random() * 40
                });
            }
            
            function drawDynamic3DChart() {
                // Очищаем с градиентной заливкой
                const clearGradient = ctx.createLinearGradient(0, 0, 0, height);
                clearGradient.addColorStop(0, 'rgba(10, 10, 20, 0.3)');
                clearGradient.addColorStop(1, 'rgba(20, 10, 30, 0.5)');
                ctx.fillStyle = clearGradient;
                ctx.fillRect(0, 0, width, height);
                
                time += 0.03;
                
                // Обновляем данные с плавными переходами
                for (let i = 0; i < dataPoints; i++) {
                    const point = chartData[i];
                    
                    // Генерируем новую цель периодически
                    if (Math.random() < 0.02) {
                        point.target = 30 + Math.random() * 60 + Math.sin(time * 0.5 + i * 0.1) * 15;
                    }
                    
                    // Плавное движение к цели
                    const diff = point.target - point.smoothValue;
                    point.velocity += diff * 0.02;
                    point.velocity *= 0.85; // Демпфинг
                    point.smoothValue += point.velocity;
                    
                    // Ограничиваем значения
                    point.smoothValue = Math.max(20, Math.min(90, point.smoothValue));
                }
                
                const stepX = width / (dataPoints - 1);
                
                // 1. РИСУЕМ ФОНОВУЮ СЕТКУ С 3D ЭФФЕКТОМ
                ctx.strokeStyle = 'rgba(100, 150, 255, 0.1)';
                ctx.lineWidth = 0.5;
                
                // Горизонтальные линии
                for (let i = 0; i <= 4; i++) {
                    const y = (height / 4) * i;
                    ctx.beginPath();
                    ctx.moveTo(0, y);
                    ctx.lineTo(width, y + Math.sin(time + i) * 3);
                    ctx.stroke();
                }
                
                // Вертикальные линии с перспективой
                for (let i = 0; i < 10; i++) {
                    const x = (width / 9) * i;
                    const offset = Math.sin(time * 0.5 + i * 0.3) * 5;
                    ctx.beginPath();
                    ctx.moveTo(x + offset, 0);
                    ctx.lineTo(x - offset, height);
                    ctx.stroke();
                }
                
                // 2. РИСУЕМ ЗАПОЛНЕННУЮ ОБЛАСТЬ С ГРАДИЕНТОМ
                const fillGradient = ctx.createLinearGradient(0, 0, 0, height);
                fillGradient.addColorStop(0, 'rgba(255, 0, 150, 0.4)');
                fillGradient.addColorStop(0.3, 'rgba(100, 50, 255, 0.3)');
                fillGradient.addColorStop(0.7, 'rgba(0, 200, 255, 0.2)');
                fillGradient.addColorStop(1, 'rgba(0, 255, 200, 0.1)');
                
                ctx.fillStyle = fillGradient;
                ctx.beginPath();
                ctx.moveTo(0, height);
                
                for (let i = 0; i < dataPoints; i++) {
                    const x = i * stepX;
                    const normalizedValue = chartData[i].smoothValue / 100;
                    const y = height - (normalizedValue * height * 0.8) - height * 0.1;
                    
                    if (i === 0) {
                        ctx.lineTo(x, y);
                    } else {
                        // Плавные кривые Безье
                        const prevX = (i - 1) * stepX;
                        const controlX = prevX + stepX / 2;
                        const prevY = height - (chartData[i-1].smoothValue / 100 * height * 0.8) - height * 0.1;
                        ctx.bezierCurveTo(controlX, prevY, controlX, y, x, y);
                    }
                }
                
                ctx.lineTo(width, height);
                ctx.closePath();
                ctx.fill();
                
                // 3. РИСУЕМ ОСНОВНУЮ ЛИНИЮ С 3D ЭФФЕКТОМ
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.9)';
                ctx.lineWidth = 3;
                ctx.shadowBlur = 10;
                ctx.shadowColor = 'rgba(0, 200, 255, 0.8)';
                
                ctx.beginPath();
                for (let i = 0; i < dataPoints; i++) {
                    const x = i * stepX;
                    const normalizedValue = chartData[i].smoothValue / 100;
                    const y = height - (normalizedValue * height * 0.8) - height * 0.1;
                    
                    if (i === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        const prevX = (i - 1) * stepX;
                        const controlX = prevX + stepX / 2;
                        const prevY = height - (chartData[i-1].smoothValue / 100 * height * 0.8) - height * 0.1;
                        ctx.bezierCurveTo(controlX, prevY, controlX, y, x, y);
                    }
                }
                ctx.stroke();
                ctx.shadowBlur = 0;
                
                // 4. ДОБАВЛЯЕМ СВЕТЯЩИЕСЯ ТОЧКИ НА ПИКАХ
                for (let i = 0; i < dataPoints; i += 5) {
                    const x = i * stepX;
                    const normalizedValue = chartData[i].smoothValue / 100;
                    const y = height - (normalizedValue * height * 0.8) - height * 0.1;
                    
                    // Определяем интенсивность свечения
                    const intensity = chartData[i].smoothValue / 100;
                    const pulseSize = 3 + Math.sin(time * 3 + i * 0.1) * 2;
                    
                    // Создаем радиальный градиент для точки
                    const pointGradient = ctx.createRadialGradient(x, y, 0, x, y, pulseSize * 2);
                    const hue = (time * 100 + i * 10) % 360;
                    pointGradient.addColorStop(0, `hsla(${hue}, 80%, 70%, ${intensity})`);
                    pointGradient.addColorStop(0.7, `hsla(${hue + 30}, 80%, 50%, ${intensity * 0.5})`);
                    pointGradient.addColorStop(1, 'rgba(255, 255, 255, 0)');
                    
                    ctx.fillStyle = pointGradient;
                    ctx.beginPath();
                    ctx.arc(x, y, pulseSize * 2, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Центральная яркая точка
                    ctx.fillStyle = `hsla(${hue}, 100%, 80%, ${intensity})`;
                    ctx.beginPath();
                    ctx.arc(x, y, pulseSize * 0.5, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                // 5. ДОБАВЛЯЕМ ЭНЕРГЕТИЧЕСКИЕ ВСПЛЕСКИ
                if (Math.random() < 0.1) {
                    const burstX = Math.random() * width;
                    const burstY = Math.random() * height;
                    
                    for (let j = 0; j < 5; j++) {
                        const angle = (Math.PI * 2 / 5) * j;
                        const length = 10 + Math.random() * 20;
                        const endX = burstX + Math.cos(angle) * length;
                        const endY = burstY + Math.sin(angle) * length;
                        
                        ctx.strokeStyle = `rgba(255, 255, 0, ${Math.random()})`;
                        ctx.lineWidth = 2;
                        ctx.beginPath();
                        ctx.moveTo(burstX, burstY);
                        ctx.lineTo(endX, endY);
                        ctx.stroke();
                    }
                }
                
                // 6. ДОБАВЛЯЕМ ДИНАМИЧЕСКИЕ МЕТКИ
                const maxPoint = Math.max(...chartData.map(p => p.smoothValue));
                const minPoint = Math.min(...chartData.map(p => p.smoothValue));
                const avgPoint = chartData.reduce((sum, p) => sum + p.smoothValue, 0) / dataPoints;
                
                // Показываем текущие значения с эффектами
                ctx.fillStyle = `rgba(255, 255, 255, ${0.8 + Math.sin(time * 2) * 0.2})`;
                ctx.font = 'bold 10px Inter';
                ctx.shadowBlur = 8;
                ctx.shadowColor = 'rgba(0, 255, 200, 0.8)';
                ctx.fillText(`📈 ${Math.round(maxPoint)}%`, width - 50, 15);
                ctx.fillText(`📊 ${Math.round(avgPoint)}%`, width - 50, 30);
                ctx.fillText(`📉 ${Math.round(minPoint)}%`, width - 50, 45);
                ctx.shadowBlur = 0;
                
                requestAnimationFrame(drawDynamic3DChart);
            }
            
            drawDynamic3DChart();
        }
        function animateDashboardMetrics() {
            const metrics = [
                { id: 'dashConversion', target: 72, suffix: '%', delay: 0 },
                { id: 'dashTime', target: 52, suffix: 'мин', delay: 200 },
                { id: 'dashRevenue', target: 2.3, suffix: 'M', prefix: '₽', delay: 400 },
                { id: 'dashDeals', target: 187, suffix: '', delay: 600 },
                { id: 'dashCalls', target: 256, suffix: '', delay: 800 },
                { id: 'dashAvgCheck', target: 8900, suffix: '', prefix: '₽', delay: 1000 }
            ];

            metrics.forEach((metric) => {
                setTimeout(() => {
                    const element = document.getElementById(metric.id);
                    if (!element) return;
                    
                    // Анимация счетчика
                    let current = 0;
                    const increment = metric.target / 30;
                    const timer = setInterval(() => {
                        current += increment;
                        if (current >= metric.target) {
                            current = metric.target;
                            clearInterval(timer);
                        }
                        
                        let displayValue = '';
                        if (metric.prefix) displayValue += metric.prefix;
                        
                        if (metric.target < 10) {
                            displayValue += current.toFixed(1);
                        } else {
                            displayValue += Math.round(current);
                        }
                        
                        if (metric.suffix) displayValue += metric.suffix;
                        
                        element.textContent = displayValue;
                        
                        // Эффект свечения при обновлении
                        element.style.textShadow = '0 0 20px rgba(255, 0, 110, 0.8)';
                        setTimeout(() => {
                            element.style.textShadow = '';
                        }, 100);
                    }, 50);
                    
                    // Эффект масштабирования
                    element.parentNode.style.transform = 'scale(1.05)';
                    setTimeout(() => {
                        element.parentNode.style.transform = 'scale(1)';
                    }, 300);
                    
                }, metric.delay);
            });

            // Анимация инсайтов
            setTimeout(() => {
                const insights = document.querySelectorAll('.insight-item');
                insights.forEach((insight, index) => {
                    setTimeout(() => {
                        insight.style.transform = 'translateX(10px)';
                        insight.style.background = 'linear-gradient(135deg, rgba(255, 0, 110, 0.15) 0%, rgba(255, 0, 110, 0.05) 100%)';
                        
                        setTimeout(() => {
                            insight.style.transform = 'translateX(0)';
                            insight.style.background = '';
                        }, 500);
                    }, index * 300);
                });
            }, 1500);

            // Анимация перфомеров
            setTimeout(() => {
                const performers = document.querySelectorAll('.performer-item');
                performers.forEach((performer, index) => {
                    setTimeout(() => {
                        performer.style.transform = 'translateX(5px)';
                        performer.style.background = 'rgba(255, 255, 255, 0.1)';
                        
                        setTimeout(() => {
                            performer.style.transform = 'translateX(0)';
                            performer.style.background = '';
                        }, 400);
                    }, index * 200);
                });
            }, 2000);
        }

        function resetDemo() {
            // Reset all states
            demoState.currentStep = 0;
            if (demoState.analysisInterval) {
                clearInterval(demoState.analysisInterval);
            }

            // Reset progress
            document.getElementById('analysisProgress').textContent = '0%';
            document.querySelector('.progress-circle').style.setProperty('--progress', '0deg');

            // Reset steps
            document.querySelectorAll('.analysis-step').forEach((step, index) => {
                step.classList.remove('completed', 'processing');
                if (index === 0) {
                    step.classList.add('completed');
                    step.querySelector('.step-icon').textContent = '✅';
                } else {
                    step.querySelector('.step-icon').textContent = ['🎯', '🧠', '📊'][index - 1];
                }
            });

            // Clear messages
            const telegramMessages = document.getElementById('telegramMessages');
            telegramMessages.innerHTML = `
                <div class="telegram-message bot">
                    <div class="message-content">
                        👋 Привет! Я LETTA SIGNAL Bot<br><br>
                        Отправь мне аудиозапись разговора с клиентом, и я проанализирую её за 30 секунд.<br><br>
                        Поддерживаемые форматы: MP3, WAV, M4A
                    </div>
                    <div class="message-time">сейчас</div>
                </div>
            `;

            // Switch to upload tab
            document.querySelector('[data-tab="upload"]').click();
        }

        // НОВОЕ: Live updates для дашборда
        function startDashboardLiveUpdates() {
            setInterval(() => {
                // Обновляем метрики с небольшими изменениями
                const conversionElement = document.getElementById('dashConversion');
                if (conversionElement) {
                    const currentValue = parseInt(conversionElement.textContent);
                    const variation = (Math.random() - 0.5) * 2; // ±1%
                    const newValue = Math.max(70, Math.min(75, currentValue + variation));
                    conversionElement.textContent = Math.round(newValue) + '%';
                }

                // Обновляем количество сделок
                const dealsElement = document.getElementById('dashDeals');
                if (dealsElement && Math.random() < 0.3) { // 30% вероятность обновления
                    const currentValue = parseInt(dealsElement.textContent);
                    dealsElement.textContent = currentValue + 1;
                    
                    // Анимация при обновлении
                    dealsElement.style.transform = 'scale(1.1)';
                    dealsElement.style.color = '#00ff7f';
                    setTimeout(() => {
                        dealsElement.style.transform = 'scale(1)';
                        dealsElement.style.color = '';
                    }, 500);
                }
            }, 5000); // Обновление каждые 5 секунд
        }

        // Запускаем живые обновления дашборда
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(startDashboardLiveUpdates, 3000);
        });
    </script>

    <!-- Дисклеймер -->
    <footer class="footer">
        <div class="footer-container">
            <p class="footer-disclaimer">
                Данный калькулятор предоставляет ориентировочные расчёты на основе введённых данных и не является офертой. 
                Фактические результаты могут отличаться в зависимости от специфики вашего бизнеса.
            </p>
            
            <p class="footer-stats">
                Расчёты основаны на статистических данных и анализе более 2,000 компаний. 
                Для получения точного анализа рекомендуем персональную консультацию.
            </p>
            
            <div class="footer-copyright">
                <p>
                    © 2025 Letta Signal. Все права защищены. | 
                    <a href="mailto:info@lettasignal.ru" class="footer-link">info@lettasignal.ru</a> | 
                    <a href="tel:+79232232525" class="footer-link">+7 (923) 223-25-25</a>
                </p>
            </div>
        </div>
    </footer>
</body>
</html>